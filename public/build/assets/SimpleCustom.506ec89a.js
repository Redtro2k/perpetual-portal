import{d as w,j as g,M as j,N as L,O as te,P as Q,F as G,p as q,q as ae,l as le,C as oe,Q as I,R as ne,o as T,c as M,b as _,w as C,h as P,g as ie,t as N,a as E,e as F,T as ue,i as re,n as H,f as se}from"./app.c0b37285.js";import{u as D,y as de,h as pe,F as ve,o as h,c as ce,l as K,V as fe,P as A,w as J,t as U,p as be,R as W,O as me,a as m}from"./use-outside-click.0afa5db2.js";import{x as xe,a as y}from"./calculate-active-index.804d077d.js";import{b as ge}from"./use-resolve-button-type.3cfc88d2.js";import{f as he,a as ye}from"./use-event-listener.60acb20e.js";function X(t={},o=null,l=[]){for(let[v,e]of Object.entries(t))Z(l,Y(o,v),e);return l}function Y(t,o){return t?t+"["+o+"]":o}function Z(t,o,l){if(Array.isArray(l))for(let[v,e]of l.entries())Z(t,Y(o,v.toString()),e);else l instanceof Date?t.push([o,l.toISOString()]):typeof l=="boolean"?t.push([o,l?"1":"0"]):typeof l=="string"?t.push([o,l]):typeof l=="number"?t.push([o,`${l}`]):l==null?t.push([o,""]):X(l,o,t)}function Oe(t,o,l){let v=w(l==null?void 0:l.value),e=g(()=>t.value!==void 0);return[g(()=>e.value?t.value:v.value),function(s){return e.value||(v.value=s),o==null?void 0:o(s)}]}function Se(t,o){return t===o}var we=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(we||{}),Le=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Le||{}),Re=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Re||{});function ke(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let $=Symbol("ListboxContext");function z(t){let o=ne($,null);if(o===null){let l=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,z),l}return o}let Ve=j({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Se},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:o,attrs:l,emit:v}){let e=w(1),s=w(null),r=w(null),x=w(null),p=w([]),O=w(""),a=w(null),n=w(1);function R(i=u=>u){let u=a.value!==null?p.value[a.value]:null,d=me(i(p.value.slice()),S=>h(S.dataRef.domRef)),f=u?d.indexOf(u):null;return f===-1&&(f=null),{options:d,activeOptionIndex:f}}let k=g(()=>t.multiple?1:0),[V,c]=Oe(g(()=>t.modelValue),i=>v("update:modelValue",i),g(()=>t.defaultValue)),b={listboxState:e,value:V,mode:k,compare(i,u){if(typeof t.by=="string"){let d=t.by;return(i==null?void 0:i[d])===(u==null?void 0:u[d])}return t.by(i,u)},orientation:g(()=>t.horizontal?"horizontal":"vertical"),labelRef:s,buttonRef:r,optionsRef:x,disabled:g(()=>t.disabled),options:p,searchQuery:O,activeOptionIndex:a,activationTrigger:n,closeListbox(){t.disabled||e.value!==1&&(e.value=1,a.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(i,u,d){if(t.disabled||e.value===1)return;let f=R(),S=xe(i===y.Specific?{focus:y.Specific,id:u}:{focus:i},{resolveItems:()=>f.options,resolveActiveIndex:()=>f.activeOptionIndex,resolveId:B=>B.id,resolveDisabled:B=>B.dataRef.disabled});O.value="",a.value=S,n.value=d!=null?d:1,p.value=f.options},search(i){if(t.disabled||e.value===1)return;let u=O.value!==""?0:1;O.value+=i.toLowerCase();let d=(a.value!==null?p.value.slice(a.value+u).concat(p.value.slice(0,a.value+u)):p.value).find(S=>S.dataRef.textValue.startsWith(O.value)&&!S.dataRef.disabled),f=d?p.value.indexOf(d):-1;f===-1||f===a.value||(a.value=f,n.value=1)},clearSearch(){t.disabled||e.value!==1&&O.value!==""&&(O.value="")},registerOption(i,u){let d=R(f=>[...f,{id:i,dataRef:u}]);p.value=d.options,a.value=d.activeOptionIndex},unregisterOption(i){let u=R(d=>{let f=d.findIndex(S=>S.id===i);return f!==-1&&d.splice(f,1),d});p.value=u.options,a.value=u.activeOptionIndex,n.value=1},select(i){t.disabled||c(D(k.value,{[0]:()=>i,[1]:()=>{let u=L(b.value.value).slice(),d=L(i),f=u.findIndex(S=>b.compare(d,L(S)));return f===-1?u.push(d):u.splice(f,1),u}}))}};return de([r,x],(i,u)=>{var d;b.closeListbox(),pe(u,ve.Loose)||(i.preventDefault(),(d=h(r))==null||d.focus())},g(()=>e.value===0)),te($,b),ce(g(()=>D(e.value,{[0]:K.Open,[1]:K.Closed}))),()=>{let{name:i,modelValue:u,disabled:d,...f}=t,S={open:e.value===0,disabled:d,value:V.value};return Q(G,[...i!=null&&V.value!=null?X({[i]:V.value}).map(([B,ee])=>Q(he,fe({features:ye.Hidden,key:B,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:B,value:ee}))):[],A({ourProps:{},theirProps:{...l,...J(f,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:S,slots:o,attrs:l,name:"Listbox"})])}}}),Pe=j({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(t,{attrs:o,slots:l}){let v=z("ListboxLabel"),e=`headlessui-listbox-label-${U()}`;function s(){var r;(r=h(v.buttonRef))==null||r.focus({preventScroll:!0})}return()=>{let r={open:v.listboxState.value===0,disabled:v.disabled.value},x={id:e,ref:v.labelRef,onClick:s};return A({ourProps:x,theirProps:t,slot:r,attrs:o,slots:l,name:"ListboxLabel"})}}}),Te=j({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(t,{attrs:o,slots:l,expose:v}){let e=z("ListboxButton"),s=`headlessui-listbox-button-${U()}`;v({el:e.buttonRef,$el:e.buttonRef});function r(a){switch(a.key){case m.Space:case m.Enter:case m.ArrowDown:a.preventDefault(),e.openListbox(),I(()=>{var n;(n=h(e.optionsRef))==null||n.focus({preventScroll:!0}),e.value.value||e.goToOption(y.First)});break;case m.ArrowUp:a.preventDefault(),e.openListbox(),I(()=>{var n;(n=h(e.optionsRef))==null||n.focus({preventScroll:!0}),e.value.value||e.goToOption(y.Last)});break}}function x(a){switch(a.key){case m.Space:a.preventDefault();break}}function p(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),I(()=>{var n;return(n=h(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),ke(()=>{var n;return(n=h(e.optionsRef))==null?void 0:n.focus({preventScroll:!0})})))}let O=ge(g(()=>({as:t.as,type:o.type})),e.buttonRef);return()=>{var a,n;let R={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},k={ref:e.buttonRef,id:s,type:O.value,"aria-haspopup":!0,"aria-controls":(a=h(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(n=h(e.labelRef))==null?void 0:n.id,s].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:r,onKeyup:x,onClick:p};return A({ourProps:k,theirProps:t,slot:R,attrs:o,slots:l,name:"ListboxButton"})}}}),_e=j({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:o,slots:l,expose:v}){let e=z("ListboxOptions"),s=`headlessui-listbox-options-${U()}`,r=w(null);v({el:e.optionsRef,$el:e.optionsRef});function x(a){switch(r.value&&clearTimeout(r.value),a.key){case m.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case m.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let n=e.options.value[e.activeOptionIndex.value];e.select(n.dataRef.value)}e.mode.value===0&&(e.closeListbox(),I(()=>{var n;return(n=h(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})}));break;case D(e.orientation.value,{vertical:m.ArrowDown,horizontal:m.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Next);case D(e.orientation.value,{vertical:m.ArrowUp,horizontal:m.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Previous);case m.Home:case m.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(y.First);case m.End:case m.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Last);case m.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),I(()=>{var n;return(n=h(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case m.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),r.value=setTimeout(()=>e.clearSearch(),350));break}}let p=be(),O=g(()=>p!==null?p.value===K.Open:e.listboxState.value===0);return()=>{var a,n,R,k;let V={open:e.listboxState.value===0},c={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(k=(n=h(e.labelRef))==null?void 0:n.id)!=null?k:(R=h(e.buttonRef))==null?void 0:R.id,"aria-orientation":e.orientation.value,id:s,onKeydown:x,role:"listbox",tabIndex:0,ref:e.optionsRef};return A({ourProps:c,theirProps:t,slot:V,attrs:o,slots:l,features:W.RenderStrategy|W.Static,visible:O.value,name:"ListboxOptions"})}}}),Ie=j({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:o,attrs:l,expose:v}){let e=z("ListboxOption"),s=`headlessui-listbox-option-${U()}`,r=w(null);v({el:r,$el:r});let x=g(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===s:!1),p=g(()=>D(e.mode.value,{[0]:()=>e.compare(L(e.value.value),L(t.value)),[1]:()=>L(e.value.value).some(c=>e.compare(L(c),L(t.value)))})),O=g(()=>D(e.mode.value,{[1]:()=>{var c;let b=L(e.value.value);return((c=e.options.value.find(i=>b.some(u=>e.compare(L(u),L(i.dataRef.value)))))==null?void 0:c.id)===s},[0]:()=>p.value})),a=g(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:r}));q(()=>{var c,b;let i=(b=(c=h(r))==null?void 0:c.textContent)==null?void 0:b.toLowerCase().trim();i!==void 0&&(a.value.textValue=i)}),q(()=>e.registerOption(s,a)),ae(()=>e.unregisterOption(s)),q(()=>{le([e.listboxState,p],()=>{e.listboxState.value===0&&(!p.value||D(e.mode.value,{[1]:()=>{O.value&&e.goToOption(y.Specific,s)},[0]:()=>{e.goToOption(y.Specific,s)}}))},{immediate:!0})}),oe(()=>{e.listboxState.value===0&&(!x.value||e.activationTrigger.value!==0&&I(()=>{var c,b;return(b=(c=h(r))==null?void 0:c.scrollIntoView)==null?void 0:b.call(c,{block:"nearest"})}))});function n(c){if(t.disabled)return c.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),I(()=>{var b;return(b=h(e.buttonRef))==null?void 0:b.focus({preventScroll:!0})}))}function R(){if(t.disabled)return e.goToOption(y.Nothing);e.goToOption(y.Specific,s)}function k(){t.disabled||x.value||e.goToOption(y.Specific,s,0)}function V(){t.disabled||!x.value||e.goToOption(y.Nothing)}return()=>{let{disabled:c}=t,b={active:x.value,selected:p.value,disabled:c},i={id:s,ref:r,role:"option",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:n,onFocus:R,onPointermove:k,onMousemove:k,onPointerleave:V,onMouseleave:V};return A({ourProps:i,theirProps:J(t,["value","disabled"]),slot:b,attrs:l,slots:o,name:"ListboxOption"})}}});function De(t,o){return T(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[_("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function Be(t,o){return T(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[_("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])}const Ce={class:"mt-1 relative"},je={key:0,class:"block truncate"},Ae={key:1,class:"block truncate text-gray-500"},ze={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},qe={__name:"SimpleCustom",props:{options:Object,modelValue:[String],placeholder:{type:String,default:()=>"Select Option"},label:String},emits:["update:modelValue"],setup(t,{emit:o}){const l=t;w(l.options[0].id);const v=g(()=>{var e;return(e=l.options.find(s=>s.name===l.modelValue))==null?void 0:e.name});return(e,s)=>(T(),M(P(Ve),{as:"div","onUpdate:modelValue":s[0]||(s[0]=r=>o("update:modelValue",r)),modelValue:l.modelValue},{default:C(()=>[_(P(Pe),{class:"block text-sm font-medium text-gray-700"},{default:C(()=>[ie(N(l.label),1)]),_:1}),E("div",Ce,[_(P(Te),{class:"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},{default:C(()=>[P(v)?(T(),F("span",je,N(P(v)),1)):(T(),F("span",Ae,N(l.placeholder),1)),E("span",ze,[_(P(Be),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),_(ue,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:C(()=>[_(P(_e),{class:"z-10 overflow-auto absolute mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:C(()=>[(T(!0),F(G,null,re(l.options,r=>(T(),M(P(Ie),{as:"template",key:r.id,value:r.name},{default:C(({active:x,selected:p})=>[E("li",{class:H([x?"text-white bg-indigo-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9"])},[E("span",{class:H([p?"font-semibold":"font-normal","block truncate"])},N(r.name),3),p?(T(),F("span",{key:0,class:H([x?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"])},[_(P(De),{class:"h-5 w-5","aria-hidden":"true"})],2)):se("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}};export{qe as _};
