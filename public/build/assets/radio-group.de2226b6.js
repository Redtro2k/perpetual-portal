import{O as I,o as L,t as F,V as K,P as V,w as N,a as y,m as k,b as A,M as h,N as w}from"./use-outside-click.f416fbbe.js";import{K as j,P as M}from"./label.c199fa8f.js";import{P as B,S as W}from"./description.e40cf46c.js";import{p as _}from"./menu.09cffbea.js";import{f as $,a as U}from"./use-event-listener.654774c0.js";import{d as q,e as H,p as J}from"./use-controllable.3bd72c52.js";import{M as C,d as O,j as i,W as c,O as Q,N as G,F as z,p as X,q as Y,Q as Z}from"./app.cfedd27a.js";function ee(a,p){return a===p}let T=Symbol("RadioGroupContext");function x(a){let p=Z(T,null);if(p===null){let m=new Error(`<${a} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(m,x),m}return p}let de=C({name:"RadioGroup",emits:{"update:modelValue":a=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ee},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0}},inheritAttrs:!1,setup(a,{emit:p,attrs:m,slots:P,expose:d}){let u=O(null),o=O([]),E=j({name:"RadioGroupLabel"}),f=B({name:"RadioGroupDescription"});d({el:u,$el:u});let[b,g]=q(i(()=>a.modelValue),e=>p("update:modelValue",e),i(()=>a.defaultValue)),s={options:o,value:b,disabled:i(()=>a.disabled),firstOption:i(()=>o.value.find(e=>!e.propsRef.disabled)),containsCheckedOption:i(()=>o.value.some(e=>s.compare(c(e.propsRef.value),c(a.modelValue)))),compare(e,r){if(typeof a.by=="string"){let l=a.by;return(e==null?void 0:e[l])===(r==null?void 0:r[l])}return a.by(e,r)},change(e){var r;if(a.disabled||s.compare(c(b.value),c(e)))return!1;let l=(r=o.value.find(n=>s.compare(c(n.propsRef.value),c(e))))==null?void 0:r.propsRef;return l!=null&&l.disabled?!1:(g(e),!0)},registerOption(e){o.value.push(e),o.value=I(o.value,r=>r.element)},unregisterOption(e){let r=o.value.findIndex(l=>l.id===e);r!==-1&&o.value.splice(r,1)}};Q(T,s),_({container:i(()=>L(u)),accept(e){return e.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});function v(e){if(!u.value||!u.value.contains(e.target))return;let r=o.value.filter(l=>l.propsRef.disabled===!1).map(l=>l.element);switch(e.key){case y.Enter:J(e.currentTarget);break;case y.ArrowLeft:case y.ArrowUp:if(e.preventDefault(),e.stopPropagation(),A(r,h.Previous|h.WrapAround)===w.Success){let l=o.value.find(n=>{var t;return n.element===((t=k(u))==null?void 0:t.activeElement)});l&&s.change(l.propsRef.value)}break;case y.ArrowRight:case y.ArrowDown:if(e.preventDefault(),e.stopPropagation(),A(r,h.Next|h.WrapAround)===w.Success){let l=o.value.find(n=>{var t;return n.element===((t=k(n.element))==null?void 0:t.activeElement)});l&&s.change(l.propsRef.value)}break;case y.Space:{e.preventDefault(),e.stopPropagation();let l=o.value.find(n=>{var t;return n.element===((t=k(n.element))==null?void 0:t.activeElement)});l&&s.change(l.propsRef.value)}break}}let R=`headlessui-radiogroup-${F()}`;return()=>{let{disabled:e,name:r,...l}=a,n={ref:u,id:R,role:"radiogroup","aria-labelledby":E.value,"aria-describedby":f.value,onKeydown:v};return G(z,[...r!=null&&b.value!=null?H({[r]:b.value}).map(([t,S])=>G($,K({features:U.Hidden,key:t,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:t,value:S}))):[],V({ourProps:n,theirProps:{...m,...N(l,["modelValue","defaultValue"])},slot:{},attrs:m,slots:P,name:"RadioGroup"})])}}});var ae=(a=>(a[a.Empty=1]="Empty",a[a.Active=2]="Active",a))(ae||{});let se=C({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(a,{attrs:p,slots:m,expose:P}){let d=x("RadioGroupOption"),u=`headlessui-radiogroup-option-${F()}`,o=j({name:"RadioGroupLabel"}),E=B({name:"RadioGroupDescription"}),f=O(null),b=i(()=>({value:a.value,disabled:a.disabled})),g=O(1);P({el:f,$el:f}),X(()=>d.registerOption({id:u,element:f,propsRef:b})),Y(()=>d.unregisterOption(u));let s=i(()=>{var t;return((t=d.firstOption.value)==null?void 0:t.id)===u}),v=i(()=>d.disabled.value||a.disabled),R=i(()=>d.compare(c(d.value.value),c(a.value))),e=i(()=>v.value?-1:R.value||!d.containsCheckedOption.value&&s.value?0:-1);function r(){var t;!d.change(a.value)||(g.value|=2,(t=f.value)==null||t.focus())}function l(){g.value|=2}function n(){g.value&=-3}return()=>{let t=N(a,["value","disabled"]),S={checked:R.value,disabled:v.value,active:Boolean(g.value&2)},D={id:u,ref:f,role:"radio","aria-checked":R.value?"true":"false","aria-labelledby":o.value,"aria-describedby":E.value,"aria-disabled":v.value?!0:void 0,tabIndex:e.value,onClick:v.value?void 0:r,onFocus:v.value?void 0:l,onBlur:v.value?void 0:n};return V({ourProps:D,theirProps:t,slot:S,attrs:p,slots:m,name:"RadioGroupOption"})}}}),pe=M,ve=W;export{pe as O,se as g,ve as h,de as y};
