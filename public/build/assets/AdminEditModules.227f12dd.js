import{o as r,c as d,b as t,d as H,u as b,p as L,w as i,a as n,h as e,n as u,g,t as v,m as y,_ as $,f,e as w,v as k,x,C as _,F as T,X as j,Y as O,D}from"./app.51a1d7d7.js";import{_ as R}from"./UserLayout.937a52fa.js";import{s as I,d as V,f as W,c as z,_ as h,o as P}from"./FormDescription.3aebe0e2.js";import{_ as A}from"./FormInput.98592ec0.js";import{_ as S}from"./ValidationErrors.444a4e11.js";import{_ as X}from"./SimpleCustom.e1addb7f.js";import{_ as q}from"./FormSlot.3376487a.js";import{_ as Y}from"./ButtonLink.e7c9d0a0.js";import{_ as E}from"./Button.33bb19e8.js";import{_ as J}from"./WithLeftLabelAndDescription.ec3fa769.js";import{r as K}from"./PlusIcon.07d5654c.js";import{r as Z}from"./PencilAltIcon.11c65b23.js";import"./SearchIcon.84ab296b.js";import"./popover.eccc1411.js";import"./use-outside-click.9057de84.js";import"./use-resolve-button-type.d600a939.js";import"./use-event-listener.7061ebbd.js";import"./menu.6dd5da0d.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.dafca46b.js";import"./micro-task.fe338338.js";import"./use-controllable.ab942a4a.js";import"./switch.bb1ab85c.js";import"./label.c6f92374.js";import"./description.8a159151.js";function ee(F,o){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z","clip-rule":"evenodd"})])}const te={class:"max-w-7xl mx-auto pb-10 lg:py-12 lg:px-8"},se={class:"lg:grid lg:grid-cols-12 lg:gap-x-5"},ae={class:"py-6 px-2 sm:px-6 lg:py-0 lg:px-0 lg:col-span-3"},le={class:"space-y-1"},ie={class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9"},oe={class:"mt-6 grid grid-cols-4 gap-4"},ne={class:"mt-4"},re=n("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Description",-1),de=["innerHTML"],pe={class:"mt-6 grid grid-cols-1 gap-4"},me={class:"mt-6 grid grid-cols-4 gap-4"},ue=["href"],Ne={__name:"AdminEditModules",props:{selected:Object,activities:Object},setup(F){const o=F;H();const m=b({name:o.selected.title,grading:o.selected.quarter,description:o.selected.description,module_id:o.selected.id}),N=[{id:1,name:"1st Grading"},{id:2,name:"2nd Grading"},{id:3,name:"3rd Grading"},{id:4,name:"4th Grading"}],c=b({id:o.selected.id,content:null,name:null}),p=b({module_id:o.selected.id,title:"",dates:null,isCentrilized:!0});L(()=>{const s=new Date,l=new Date(new Date().setDate(s.getDate()+7));p.dates=[s,l]});let C=()=>{c.post(route("files.store"),{onFinish:()=>c.reset("content","name"),onSuccess:()=>c.reset("content","name"),preserveState:!0})},M=()=>{p.post(route("qae.store"),{onFinish:()=>p.reset("title"),onSuccess:()=>p.reset("title"),preserveState:!0})},U=()=>{m.put(route("modules.update",o.selected.id),{preserveState:!0})};return(s,l)=>{const Q=D("QuillEditor"),B=D("Datepicker"),G=D("WithRight");return r(),d(R,{title:"Modules","no-content":"",showSideNav:!1},{content:i(()=>[n("main",te,[n("div",se,[t(e(P),null,{default:i(()=>[n("aside",ae,[n("nav",le,[t(e(I),null,{default:i(()=>[t(e(V),{as:"template"},{default:i(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-jvgreen-300 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(K),{class:u([a?"text-jvgreen-100":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+v(s.$page.props.can.manage_student?"Module Description":"Update Modules"),1)],2)]),_:1}),t(e(V),{as:"template"},{default:i(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-jvgreen-300 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(ee),{class:u([a?"text-jvgreen-100":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+v(s.$page.props.can.manage_student?"Files":"Add Files"),1)],2)]),_:1}),t(e(V),{as:"template"},{default:i(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-jvgreen-300 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(Z),{class:u([a?"text-jvgreen-100":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+v(s.$page.props.can.manage_student?"Activities":"Set Up Quizzes, Activities, Essay"),1)],2)]),_:1})]),_:1})])]),n("div",ie,[t(e(W),null,{default:i(()=>[t(e(z),null,{default:i(()=>[n("form",{onSubmit:l[3]||(l[3]=y((...a)=>e(U)&&e(U)(...a),["prevent"]))},[t(h,{title:s.$page.props.can.manage_student?"Modules Description":"Update Modules",description:s.$page.props.can.manage_student?"Please read all Information about this topic":"fill up all of validation to proceed the next step",haveFooter:!s.$page.props.can.manage_student},{main:i(()=>[t(S,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):f("",!0),n("div",oe,[t(A,{label:"Title",modelValue:e(m).name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(m).name=a),disabled:!!s.$page.props.can.manage_student},null,8,["modelValue","disabled"]),t(q,{label:"Grading"},{main:i(()=>[t(X,{options:N,modelValue:e(m).grading,"onUpdate:modelValue":l[1]||(l[1]=a=>e(m).grading=a),disabled:!!s.$page.props.can.manage_student,class:u([s.$page.props.can.manage_student?"opacity-50":""])},null,8,["modelValue","disabled","class"])]),_:1})]),n("div",ne,[re,s.$page.props.can.manage_student?(r(),w("span",{key:1,class:"text-sm pl-2",innerHTML:e(m).description},null,8,de)):(r(),d(Q,{key:0,content:e(m).description,"onUpdate:content":l[2]||(l[2]=a=>e(m).description=a),contentType:"html",placeholder:"description about School",toolbar:"essential",theme:"snow"},null,8,["content"]))])]),footer:i(()=>[t(Y,{routes:"modules.destroy",id:o.selected.id,label:"REMOVE",method:"DELETE",isShow:""},null,8,["id"]),t(E,{class:u(["ml-4",{"opacity-25":e(m).processing}]),disabled:e(m).processing},{default:i(()=>[g(" Update ")]),_:1},8,["class","disabled"])]),_:1},8,["title","description","haveFooter"])],32)]),_:1}),t(e(z),null,{default:i(()=>[n("form",{onSubmit:l[6]||(l[6]=y((...a)=>e(C)&&e(C)(...a),["prevent"]))},[k(t(h,{title:"Add Files",description:"add content about this modules link pdf",haveFooter:""},{main:i(()=>[t(S,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):f("",!0),n("div",pe,[t(A,{label:"Title",modelValue:e(c).name,"onUpdate:modelValue":l[4]||(l[4]=a=>e(c).name=a)},null,8,["modelValue"]),n("input",{type:"file",onInput:l[5]||(l[5]=a=>e(c).content=a.target.files[0])},null,32)])]),footer:i(()=>[t(E,{class:u(["ml-4",{"opacity-25":e(c).processing}]),disabled:e(c).processing},{default:i(()=>[g(" Upload ")]),_:1},8,["class","disabled"])]),_:1},512),[[x,!s.$page.props.can.manage_student]])],32),t(h,{class:"mt-4",title:"All Files",description:"list of all uploaded recarding this topic"},{main:i(()=>[o.selected.files.length!=0?(r(),w(T,{key:0},[s.$page.props.can.manage_student?(r(),d(_,{key:1,items:o.selected.files},null,8,["items"])):(r(),d(_,{key:0,items:o.selected.files,edit_link:"files.destroy",isDeleteData:{current_modules:o.selected.id}},null,8,["items","isDeleteData"]))],64)):(r(),d(j,{key:1,class:"mt-2",label:"No Modules, please Add modules this Subject"}))]),_:1})]),_:1}),t(e(z),null,{default:i(()=>[n("form",{onSubmit:l[10]||(l[10]=y((...a)=>e(M)&&e(M)(...a),["prevent"]))},[k(t(h,{title:"Add Activities",description:"adding Quizzes, and Activity","have-footer":""},{main:i(()=>[t(S,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):f("",!0),s.$page.props.flash.warning?(r(),d(O,{key:1,label:s.$page.props.flash.warning},null,8,["label"])):f("",!0),n("div",me,[t(A,{label:"Title",modelValue:e(p).title,"onUpdate:modelValue":l[7]||(l[7]=a=>e(p).title=a)},null,8,["modelValue"]),t(q,{label:"Start - Due"},{main:i(()=>[t(B,{modelValue:e(p).dates,"onUpdate:modelValue":l[8]||(l[8]=a=>e(p).dates=a),"is-24":!1,range:"",utc:""},null,8,["modelValue"])]),_:1})]),k(t(J,{class:"pt-4",label:e(p).isCentrilized==!0?"Centralized":"Not Centralized",body:"This option's default will be set into not centralized, clicking the toggle button will be allowing your post to be shown globally.",modelValue:e(p).isCentrilized,"onUpdate:modelValue":l[9]||(l[9]=a=>e(p).isCentrilized=a)},null,8,["label","modelValue"]),[[x,s.$page.props.can.manage_teacher]])]),footer:i(()=>[t(E,{class:u(["ml-4",{"opacity-25":e(p).processing}]),disabled:e(p).processing},{default:i(()=>[g(" Create ")]),_:1},8,["class","disabled"])]),_:1},512),[[x,s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher]])],32),t(h,{class:"mt-4",title:"Quizzes, Activities, Essay",description:"list of all created quizzes, activities, Essay recarding this topic",haveFooter:s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher},{main:i(()=>[s.$page.props.can.admin_or_superadmin?f("",!0):(r(),d(G,{key:0,class:"my-2",label:"Quizzes that are created by the admin will only be shown to the teachers. The teacher will have the privilege to repost and give the quizzes to their students, they are in charge on setting up the deployment date and deadline. "})),o.activities!=0?(r(),w(T,{key:1},[s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher?(r(),d(_,{key:0,items:o.activities,edit_link:"qae.destroy",isDeleteData:{current_modules:o.selected.id},isEditData:"question-answer.show"},null,8,["items","isDeleteData"])):(r(),d(_,{key:1,items:o.activities,link_label:"Answer it",edit_link:"student-taking-activities.show"},null,8,["items"]))],64)):(r(),d(j,{key:2,class:"mt-2",label:"No Activities, please Add Activities on this lesson"}))]),footer:i(()=>[n("a",{href:s.route("view-all-activities",o.selected.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},"Export Excel",8,ue)]),_:1},8,["haveFooter"])]),_:1})]),_:1})])]),_:1})])])]),_:1})}}};export{Ne as default};
