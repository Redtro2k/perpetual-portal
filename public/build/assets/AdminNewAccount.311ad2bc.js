import{o as l,e as d,a as e,b as p,r as C,t as q,d as y,u as A,l as D,c as N,w as $,_ as B,f as n,g as m,h as o,v as u,Z as c,n as v,s as w,m as F,D as M,x as L,$ as _}from"./app.51a1d7d7.js";import{_ as R}from"./UserLayout.937a52fa.js";import{_ as S}from"./SimpleCustom.e1addb7f.js";import{_ as T}from"./ValidationErrors.444a4e11.js";import{J as E}from"./ApplicationLogo.71986407.js";import"./SearchIcon.84ab296b.js";import"./popover.eccc1411.js";import"./use-outside-click.9057de84.js";import"./use-resolve-button-type.d600a939.js";import"./use-event-listener.7061ebbd.js";import"./menu.6dd5da0d.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.dafca46b.js";import"./use-controllable.ab942a4a.js";import"./_plugin-vue_export-helper.cdc0426e.js";const J={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8"},O={class:"sm:mx-auto sm:w-full sm:max-w-md"},P=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Create New User",-1),Y=e("p",{class:"mt-2 text-center text-sm text-gray-600"}," Creating new user will be directly to our database "+q(" "),-1),z={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},G={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},Z={__name:"FormLayout",props:{title:String,label:String},setup(k){return(h,j)=>(l(),d("div",J,[e("div",O,[p(E,{class:"mx-auto h-12 w-auto"}),P,Y]),e("div",z,[e("div",G,[C(h.$slots,"content")])])]))}},H={for:"email",class:"block text-sm font-medium text-gray-700"},I={key:0,class:"text-indigo-500 font-semibold"},K={class:"mt-1"},Q={for:"email",class:"block text-sm font-medium text-gray-700"},W={key:0,class:"text-indigo-500 font-semibold"},X={class:"mt-1"},ee=e("small",null,"for some concern we must first fill birthdate to auto generate username and password",-1),te={for:"email",class:"block text-sm font-medium text-gray-700"},se={key:0,class:"text-indigo-500 font-semibold"},oe={class:"mt-1"},ae=["disabled"],le={for:"email",class:"block text-sm font-medium text-gray-700"},re={key:0,class:"text-indigo-500 font-semibold"},ne={class:"mt-1"},de=["disabled"],ie={for:"email",class:"block text-sm font-medium text-gray-700"},me={key:0,class:"text-indigo-500 font-semibold"},ue={class:"mt-1"},ce=["disabled"],pe={for:"email",class:"block text-sm font-medium text-gray-700"},fe={key:0,class:"text-indigo-500 font-semibold"},be={class:"mt-1"},ge=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1),_e={class:"mt-1"},he={class:"block text-sm font-medium text-gray-700"},xe={key:0,class:"text-indigo-500 font-semibold"},ye={class:"mt-1"},ve={for:"password",class:"block text-sm font-medium text-gray-700"},we={key:0,class:"text-indigo-500 font-semibold"},ke={class:"mt-1"},je=e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-jvgreen hover:bg-jvdgreen focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-jvgreen"}," Create New ")],-1),Ee={__name:"AdminNewAccount",props:{roles:Object},setup(k){const h=k,j=[{id:1,name:"male"},{id:2,name:"female"}],f=y(""),b=y(""),g=y(""),t=A({name:f.value+b.value+g.value,firstname:"",lastname:"",middlename:"",username:"",email:"",birthdate:"",password:"",gender:"",roles:""});let V=()=>{t.post(route("new-account.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>t.reset("name","username","firstname","lastname","middlename","password","email","gender","roles"),onFinish:()=>t.reset("name","username","password","firstname","lastname","middlename","email","gender","roles")})};const x=(i,s,r=!1)=>{let a=i.split(" ");a[0],a[1],a[2]&&i.substr(i.indexOf(" ")+1);var U=_(s).format("ll").split(" ");return r==!0?a[0].charAt(0)+a[2].charAt(0)+a[1]+"0"+_(s).format("d")+U[0]+_(s).format("Y"):a[0].charAt(0)+a[2].charAt(0)+a[1]+"0"+_(s).format("d")+_(s).format("Y")};return D(()=>[f.value.replace(/\s/g,""),b.value.replace(/\s/g,""),g.value.replace(/\s/g,"")],i=>{const s=i.join(" "),r=s.split(" ");t.firstname=r[0],t.lastname=r[2],t.middlename=r[1],t.name=r[0]+" "+r[2]+" "+r[1],t.username=x(s.toString(),t.birthdate),t.password=x(s.toString(),t.birthdate,!0),t.email=x(s.toString(),t.birthdate)+"@perpetual.com"}),(i,s)=>{const r=M("Datepicker");return l(),N(R,{title:"Register New Account","no-content":"",showSideNav:!1},{content:$(()=>[p(Z,{title:"Create New User",label:"Creating new user will be directly to our database"},{content:$(()=>[e("form",{class:"space-y-6",onSubmit:s[9]||(s[9]=F((...a)=>o(V)&&o(V)(...a),["prevent"]))},[p(T,{class:"mb-4"}),i.$page.props.flash.success?(l(),N(B,{key:0,label:i.$page.props.flash.success},null,8,["label"])):n("",!0),e("div",null,[e("label",H,[m(" Role "),o(t).roles?n("",!0):(l(),d("small",I,"*required"))]),e("div",K,[p(S,{modelValue:o(t).roles,"onUpdate:modelValue":s[0]||(s[0]=a=>o(t).roles=a),options:h.roles},null,8,["modelValue","options"])])]),e("div",null,[e("label",Q,[m(" BirthDate "),o(t).birthdate?n("",!0):(l(),d("small",W,"*required"))]),e("div",X,[p(r,{modelValue:o(t).birthdate,"onUpdate:modelValue":s[1]||(s[1]=a=>o(t).birthdate=a),utc:"",enableTimePicker:!1},null,8,["modelValue"])])]),ee,e("div",null,[e("label",te,[m(" First Name "),o(t).firstname?n("",!0):(l(),d("small",se,"*required"))]),e("div",oe,[u(e("input",{type:"text",disabled:o(t).birthdate.length==0,class:v([o(t).birthdate.length!=0?"":"disabled:opacity-75 disabled:bg-gray-200","appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvdgreen sm:text-sm"]),"onUpdate:modelValue":s[2]||(s[2]=a=>w(f)?f.value=a:null)},null,10,ae),[[c,o(f)]])]),e("label",le,[m(" Last Name "),o(t).middlename?n("",!0):(l(),d("small",re,"*required"))]),e("div",ne,[u(e("input",{type:"text",disabled:o(t).birthdate.length==0,class:v([o(t).birthdate.length!=0?"":"disabled:opacity-75 disabled:bg-gray-200","appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvdgreen sm:text-sm"]),"onUpdate:modelValue":s[3]||(s[3]=a=>w(b)?b.value=a:null)},null,10,de),[[c,o(b)]])]),e("label",ie,[m(" Middle Name "),o(t).lastname?n("",!0):(l(),d("small",me,"*required"))]),e("div",ue,[u(e("input",{type:"text",disabled:o(t).birthdate.length==0,class:v([o(t).birthdate.length!=0?"":"disabled:opacity-75 disabled:bg-gray-200","appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvdgreen sm:text-sm"]),"onUpdate:modelValue":s[4]||(s[4]=a=>w(g)?g.value=a:null)},null,10,ce),[[c,o(g)]])])]),e("div",null,[e("label",pe,[m(" Gender "),o(t).gender?n("",!0):(l(),d("small",fe,"*required"))]),e("div",be,[p(S,{modelValue:o(t).gender,"onUpdate:modelValue":s[5]||(s[5]=a=>o(t).gender=a),options:j},null,8,["modelValue"])])]),u(e("div",null,[ge,e("div",_e,[u(e("input",{type:"email",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvgreen sm:text-sm","onUpdate:modelValue":s[6]||(s[6]=a=>o(t).email=a)},null,512),[[c,o(t).email]])])],512),[[L,!1]]),e("div",null,[e("label",he,[m(" Username "),o(t).username?n("",!0):(l(),d("small",xe,"*required"))]),e("div",ye,[u(e("input",{type:"text",disabled:"",class:"disabled:opacity-75 disabled:bg-gray-100 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvdgreen sm:text-sm","onUpdate:modelValue":s[7]||(s[7]=a=>o(t).username=a)},null,512),[[c,o(t).username]])])]),e("div",null,[e("label",ve,[m(" Password "),o(t).password?n("",!0):(l(),d("small",we,"*required"))]),e("div",ke,[u(e("input",{disabled:"",type:"text",class:"disabled:opacity-75 disabled:bg-gray-100 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvgreen sm:text-sm","onUpdate:modelValue":s[8]||(s[8]=a=>o(t).password=a)},null,512),[[c,o(t).password]])])]),je],32)]),_:1})]),_:1})}}};export{Ee as default};
