import{o as r,e as d,a as e,b as c,r as A,t as D,d as w,u as B,l as F,c as U,w as C,_ as M,f as n,g as i,h as o,v as m,Z as u,n as k,s as V,m as L,D as R,x as T,$ as _}from"./app.69e48e67.js";import{_ as E}from"./UserLayout.a24cb15a.js";import{_ as q}from"./SimpleCustom.cf3a3674.js";import{_ as J}from"./ValidationErrors.616fb564.js";import{J as O}from"./ApplicationLogo.41d620d1.js";import"./SearchIcon.84157a4d.js";import"./popover.a942ee08.js";import"./use-outside-click.39d564af.js";import"./use-resolve-button-type.41d4d527.js";import"./use-event-listener.0fd12e9f.js";import"./menu.0e8d2c7b.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.d123c957.js";import"./use-controllable.3334d46b.js";import"./_plugin-vue_export-helper.cdc0426e.js";const P={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8"},Y={class:"sm:mx-auto sm:w-full sm:max-w-md"},z=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Create New User",-1),G=e("p",{class:"mt-2 text-center text-sm text-gray-600"}," Creating new user will be directly to our database "+D(" "),-1),Z={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},H={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},I={__name:"FormLayout",props:{title:String,label:String},setup(j){return(h,N)=>(r(),d("div",P,[e("div",Y,[c(O,{class:"mx-auto h-12 w-auto"}),z,G]),e("div",Z,[e("div",H,[A(h.$slots,"content")])])]))}},K={for:"email",class:"block text-sm font-medium text-gray-700"},Q={key:0,class:"text-indigo-500 font-semibold"},W={class:"mt-1"},X={for:"email",class:"block text-sm font-medium text-gray-700"},ee={key:0,class:"text-indigo-500 font-semibold"},te={class:"mt-1"},se=e("small",null,"for some concern we must first fill birthdate to auto generate username and password",-1),oe={for:"email",class:"block text-sm font-medium text-gray-700"},le={key:0,class:"text-indigo-500 font-semibold"},ae={class:"mt-1"},re=["disabled"],ne={for:"email",class:"block text-sm font-medium text-gray-700"},de={key:0,class:"text-indigo-500 font-semibold"},ie={class:"mt-1"},me=["disabled"],ue={for:"email",class:"block text-sm font-medium text-gray-700"},ce={key:0,class:"text-indigo-500 font-semibold"},pe={class:"mt-1"},fe=["disabled"],be={for:"email",class:"block text-sm font-medium text-gray-700"},ge={key:0,class:"text-indigo-500 font-semibold"},_e={class:"mt-1"},he=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1),xe={class:"mt-1"},ye={class:"block text-sm font-medium text-gray-700"},ve={key:0,class:"text-indigo-500 font-semibold"},we={class:"mt-1"},ke={for:"password",class:"block text-sm font-medium text-gray-700"},Ve={key:0,class:"text-indigo-500 font-semibold"},je={class:"mt-1"},Ne=e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-jvgreen hover:bg-jvdgreen focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-jvgreen"}," Create New ")],-1),Oe={__name:"AdminNewAccount",props:{roles:Object},setup(j){const h=j,N=[{id:1,name:"male"},{id:2,name:"female"}],p=w(""),f=w(""),b=w(""),t=B({name:p.value+f.value+b.value,firstname:"",lastname:"",middlename:"",username:"",email:"",birthdate:"",password:"",gender:"",roles:""});let $=()=>{t.post(route("new-account.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>t.reset("name","username","firstname","lastname","middlename","password","email","gender","roles"),onFinish:()=>t.reset("name","username","password","firstname","lastname","middlename","email","gender","roles")})};const x=(a,l,g=!1)=>{let s=a.split(" ");s[0],s[1],s[2]&&a.substr(a.indexOf(" ")+1);var S=_(l).format("ll").split(" ");return g==!0?s[0].charAt(0)+s[2].charAt(0)+s[1]+"0"+_(l).format("d")+S[0]+_(l).format("Y"):s[0].charAt(0)+s[2].charAt(0)+s[1]+"0"+_(l).format("d")+_(l).format("Y")};return F(()=>[p.value,f.value,b.value],a=>{t.name=a[0]+" "+a[2]+" "+a[1],t.firstname=a[0],t.middlename=a[1],t.lastname=a[2];const l=a[0].replace(/\s/g,""),g=a[1].replace(/\s/g,""),s=a[2].replace(/\s/g,""),y=(l+" "+s+" "+g).split(" "),v=y[0]+" "+y[2]+" "+y[1];t.username=x(v.toString(),t.birthdate),t.password=x(v.toString(),t.birthdate,!0),t.email=x(v.toString(),t.birthdate)+"@perpetual.com"}),(a,l)=>{const g=R("Datepicker");return r(),U(E,{title:"Register New Account","no-content":"",showSideNav:!1},{content:C(()=>[c(I,{title:"Create New User",label:"Creating new user will be directly to our database"},{content:C(()=>[e("form",{class:"space-y-6",onSubmit:l[9]||(l[9]=L((...s)=>o($)&&o($)(...s),["prevent"]))},[c(J,{class:"mb-4"}),a.$page.props.flash.success?(r(),U(M,{key:0,label:a.$page.props.flash.success},null,8,["label"])):n("",!0),e("div",null,[e("label",K,[i(" Role "),o(t).roles?n("",!0):(r(),d("small",Q,"*required"))]),e("div",W,[c(q,{modelValue:o(t).roles,"onUpdate:modelValue":l[0]||(l[0]=s=>o(t).roles=s),options:h.roles},null,8,["modelValue","options"])])]),e("div",null,[e("label",X,[i(" BirthDate "),o(t).birthdate?n("",!0):(r(),d("small",ee,"*required"))]),e("div",te,[c(g,{modelValue:o(t).birthdate,"onUpdate:modelValue":l[1]||(l[1]=s=>o(t).birthdate=s),utc:"",enableTimePicker:!1},null,8,["modelValue"])])]),se,e("div",null,[e("label",oe,[i(" First Name "),o(t).firstname?n("",!0):(r(),d("small",le,"*required"))]),e("div",ae,[m(e("input",{type:"text",disabled:o(t).birthdate.length==0,class:k([o(t).birthdate.length!=0?"":"disabled:opacity-75 disabled:bg-gray-200","appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvdgreen sm:text-sm"]),"onUpdate:modelValue":l[2]||(l[2]=s=>V(p)?p.value=s:null)},null,10,re),[[u,o(p)]])]),e("label",ne,[i(" Last Name "),o(t).middlename?n("",!0):(r(),d("small",de,"*required"))]),e("div",ie,[m(e("input",{type:"text",disabled:o(t).birthdate.length==0,class:k([o(t).birthdate.length!=0?"":"disabled:opacity-75 disabled:bg-gray-200","appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvdgreen sm:text-sm"]),"onUpdate:modelValue":l[3]||(l[3]=s=>V(f)?f.value=s:null)},null,10,me),[[u,o(f)]])]),e("label",ue,[i(" Middle Name "),o(t).lastname?n("",!0):(r(),d("small",ce,"*required"))]),e("div",pe,[m(e("input",{type:"text",disabled:o(t).birthdate.length==0,class:k([o(t).birthdate.length!=0?"":"disabled:opacity-75 disabled:bg-gray-200","appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvdgreen sm:text-sm"]),"onUpdate:modelValue":l[4]||(l[4]=s=>V(b)?b.value=s:null)},null,10,fe),[[u,o(b)]])])]),e("div",null,[e("label",be,[i(" Gender "),o(t).gender?n("",!0):(r(),d("small",ge,"*required"))]),e("div",_e,[c(q,{modelValue:o(t).gender,"onUpdate:modelValue":l[5]||(l[5]=s=>o(t).gender=s),options:N},null,8,["modelValue"])])]),m(e("div",null,[he,e("div",xe,[m(e("input",{type:"email",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvgreen sm:text-sm","onUpdate:modelValue":l[6]||(l[6]=s=>o(t).email=s)},null,512),[[u,o(t).email]])])],512),[[T,!1]]),e("div",null,[e("label",ye,[i(" Username "),o(t).username?n("",!0):(r(),d("small",ve,"*required"))]),e("div",we,[m(e("input",{type:"text",disabled:"",class:"disabled:opacity-75 disabled:bg-gray-100 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvdgreen sm:text-sm","onUpdate:modelValue":l[7]||(l[7]=s=>o(t).username=s)},null,512),[[u,o(t).username]])])]),e("div",null,[e("label",ke,[i(" Password "),o(t).password?n("",!0):(r(),d("small",Ve,"*required"))]),e("div",je,[m(e("input",{disabled:"",type:"text",class:"disabled:opacity-75 disabled:bg-gray-100 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-jvgreen focus:border-jvgreen sm:text-sm","onUpdate:modelValue":l[8]||(l[8]=s=>o(t).password=s)},null,512),[[u,o(t).password]])])]),Ne],32)]),_:1})]),_:1})}}};export{Oe as default};
