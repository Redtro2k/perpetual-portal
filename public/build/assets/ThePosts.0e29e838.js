import{o as n,c as d,b as s,e as u,a as e,F as g,i as v,w as l,g as w,t as _,f as p,h as a,L as c,T as y,n as m,v as k,x as b}from"./app.0e63341f.js";import{h as L}from"./moment.9709ab41.js";import{I as z,g as M,S as x,v as V}from"./menu.ba59a855.js";import"./use-outside-click.6198e42d.js";import"./calculate-active-index.804d077d.js";import"./use-resolve-button-type.7da8ea66.js";function $(o,i){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z","clip-rule":"evenodd"})])}function C(o,i){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})])}function B(o,i){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})])}function T(o,i){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})])}function H(o,i){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})])}function E(o,i){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})])}const S={class:"mt-4"},A=e("h1",{class:"sr-only"},"Recent posts",-1),D={role:"list",class:"space-y-4"},N=["aria-labelledby"],O={class:"flex space-x-3"},j={class:"flex-shrink-0"},q=["src"],F={class:"min-w-0 flex-1"},I={class:"text-sm font-medium text-gray-900"},P={key:0,class:"font-bold"},R={class:"text-sm text-gray-500"},Y=["datetime"],G={class:"flex-shrink-0 self-center flex"},J=e("span",{class:"sr-only"},"Open options",-1),K={class:"py-1"},Q=e("span",null,"Add to Achieve",-1),U=e("span",null,"Delete",-1),W=["id"],X=["innerHTML"],Z={class:"mt-6 flex justify-between space-x-8"},ee={class:"flex space-x-6"},te={class:"inline-flex items-center text-sm"},se={key:0,class:"font-medium text-gray-900"},ae=e("span",{class:"sr-only"},"likes",-1),re={class:"inline-flex items-center text-sm"},le={class:"font-medium text-gray-900"},ie=e("span",{class:"sr-only"},"replies",-1),ne={class:"flex text-sm"},oe={class:"inline-flex items-center text-sm"},ce={type:"button",class:"inline-flex space-x-2 text-gray-400 hover:text-gray-500"},de=e("span",{class:"font-medium text-gray-900"},"Share",-1),xe={__name:"ThePosts",props:{posts:Object},setup(o){const i=(r,f)=>{let t=r.map(h=>h.by).indexOf(f);return t!=-1?r[t]:!1};return(r,f)=>(n(),u("div",S,[A,e("ul",D,[(n(!0),u(g,null,v(o.posts.data,t=>(n(),u("li",{key:t.post_id,class:"bg-white px-4 py-6 shadow sm:p-6 sm:rounded-lg"},[e("article",{"aria-labelledby":"question-title-"+t.id},[e("div",null,[e("div",O,[e("div",j,[e("img",{class:"h-10 w-10 rounded-full",src:t.author_image,alt:""},null,8,q)]),e("div",F,[e("p",I,[s(a(c),{href:t.author_name,class:"hover:underline"},{default:l(()=>[w(_(t.author_name)+" ",1),t.author_name===r.$page.props.user.name?(n(),u("span",P,"(You)")):p("",!0)]),_:2},1032,["href"])]),e("p",R,[s(a(c),{href:t.post_created_at,class:"hover:underline"},{default:l(()=>[e("time",{datetime:t.post_created_at},_(a(L)(t.post_created_at).format("LLLL")),9,Y)]),_:2},1032,["href"])])]),e("div",G,[s(a(V),{as:"div",class:"relative inline-block text-left"},{default:l(()=>[e("div",null,[s(a(z),{class:"-m-2 p-2 rounded-full flex items-center text-gray-400 hover:text-gray-600"},{default:l(()=>[J,s(a(C),{class:"h-5 w-5","aria-hidden":"true"})]),_:1})]),s(y,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:l(()=>[s(a(M),{class:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:l(()=>[e("div",K,[s(a(x),null,{default:l(({active:h})=>[s(a(c),{href:"#",class:m([h?"bg-gray-100 text-gray-900":"text-gray-700","flex px-4 py-2 text-sm"])},{default:l(()=>[s(a(T),{class:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Q]),_:2},1032,["class"])]),_:1}),k(s(a(x),null,{default:l(({active:h})=>[s(a(c),{method:"DELETE",as:"Link",href:r.route("post.destroy",t.post_id),class:m([h?"bg-gray-100 text-gray-900":"text-gray-700","flex px-4 py-2 text-sm"]),"preserve-scroll":""},{default:l(()=>[s(a(E),{class:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),U]),_:2},1032,["href","class"])]),_:2},1536),[[b,t.post_from==r.$page.props.user.id]])])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),e("h2",{id:"question-title-"+t.id,class:"mt-4 text-base font-medium text-gray-900"},_(t.title),9,W)]),e("div",{class:"mt-2 text-sm text-gray-700 space-y-4",innerHTML:t.description},null,8,X),e("div",Z,[e("div",ee,[e("span",te,[s(a(c),{as:"button",href:i(t.like,r.$page.props.user.id)?r.route("like.destroy",i(t.like,r.$page.props.user.id).like_id):r.route("like.store"),class:m(["inline-flex space-x-2",i(t.like,r.$page.props.user.id)?"text-indigo-600":"text-gray-400 hover:text-gray-500"]),method:i(t.like,r.$page.props.user.id)?"DELETE":"POST",data:i(t.like,r.$page.props.user.id)?{id:null}:{id:t.post_id},"preserve-scroll":""},{default:l(()=>[s(a(H),{class:"h-5 w-5","aria-hidden":"true"}),t.like.length>0?(n(),u("span",se,_(t.like.length),1)):p("",!0),ae]),_:2},1032,["href","method","class","data"])]),e("span",re,[s(a(c),{href:r.route("comment.show",t.token),class:"inline-flex space-x-2 text-gray-400 hover:text-gray-500"},{default:l(()=>[s(a($),{class:"h-5 w-5","aria-hidden":"true"}),e("span",le,_(t.comments),1),ie]),_:2},1032,["href"])])]),e("div",ne,[e("span",oe,[e("button",ce,[s(a(B),{class:"h-5 w-5","aria-hidden":"true"}),de])])])])],8,N)]))),128))])]))}};export{xe as default};
