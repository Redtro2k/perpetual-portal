import{o as t,c as k,b as S,d as T,u as j,j as C,w as N,a as e,t as u,g as n,e as o,m as v,v as y,Z as q,f as b,F as p,h as _,n as w,i as B,x as H}from"./app.d6fd6ef0.js";import{_ as L}from"./UserLayout.cf4779a3.js";import"./moment.9709ab41.js";import"./SearchIcon.ef60ed6c.js";import"./popover.11880e8a.js";import"./use-outside-click.4ced2ae8.js";import"./use-resolve-button-type.ddd396ff.js";import"./use-event-listener.daba031f.js";import"./menu.57fea4d8.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.c44d3662.js";function A(a,l){return t(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[S("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z","clip-rule":"evenodd"})])}const O={class:"px-4 sm:px-6 lg:px-8"},V={class:"sm:flex sm:items-center"},F={class:"sm:flex-auto"},$=e("h1",{class:"text-xl font-semibold text-gray-900"},"Summary",-1),z={class:"mt-2 text-sm text-gray-700"},D=e("div",{class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},[e("button",{type:"button",class:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto"},"Back")],-1),E={key:0,class:"my-4 bg-white shadow sm:rounded-lg"},U={class:"px-4 py-5 sm:p-6"},I={class:"text-lg leading-6 font-medium text-gray-900 flex space-x-2"},K=B("Add Points"),P={class:"mt-2 max-w-xl text-sm text-gray-500"},Z=["innerHTML"],G={class:"w-full sm:max-w-xs"},J=e("label",{for:"email",class:"sr-only"},"Email",-1),Q=e("button",{type:"submit",class:"mt-3 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Save",-1),R=e("p",{class:"text-xs pl-1 text-gray-500"},"this is for essay type, you can decide points",-1),W={key:1,class:"-mx-4 mt-8 flex flex-col sm:-mx-6 md:mx-0"},X={class:"min-w-full divide-y divide-gray-300"},Y=["onClick"],ee={key:1},te=["innerHTML"],se=["innerHTML"],fe={__name:"ActivityShow",props:{answers:Object,user_score:Object,activity_id:[Number,String],user_id:[Number,String]},setup(a){const l=a,f=T(),i=j({points_value:"",selected_question:"",activity_id:l.activity_id,user_id:l.user_id});let h=()=>{i.post(route("add-points"),{onBefore:()=>confirm("Are you sure about this? if you submit it will not change it"),onSuccess:()=>i.reset("selected_question","points_value"),onFinish:()=>i.reset("selected_question","points_value")})};const M=C(()=>{let d=Object.keys(l.answers[0]);return d.shift(),d}),x=(d,c)=>Object.keys(d).find(s=>d[s]===c);return(d,c)=>(t(),k(L,{title:"Activities","no-content":"",showSideNav:!1},{content:N(()=>[e("div",O,[e("div",V,[e("div",F,[$,e("p",z,"Name: "+u(a.user_score.name)+", the final score is "+u(a.user_score.pivot.scores)+" Total",1)]),D]),n(i).selected_question?(t(),o("div",E,[e("div",U,[e("h3",I,[e("span",null,[S(n(A),{class:"h-5 w-5 leading-3 text-indigo-500"})]),K]),e("div",P,[e("p",{innerHTML:f.value},null,8,Z)]),e("form",{onSubmit:c[1]||(c[1]=v((...s)=>n(h)&&n(h)(...s),["prevent"])),class:"mt-3 sm:flex sm:items-center"},[e("div",G,[J,y(e("input",{type:"number",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"points","onUpdate:modelValue":c[0]||(c[0]=s=>n(i).points_value=s)},null,512),[[q,n(i).points_value]])]),Q],32),R])])):b("",!0),a.answers.length!=0?(t(),o("div",W,[e("table",X,[e("thead",null,[e("tr",null,[(t(!0),o(p,null,_(n(M),(s,m)=>(t(),o("th",{key:s,scope:"col",class:w([m==0?"text-left sm:pr-6 md:pr-0":"text-right sm:table-cell","py-3.5 pl-4 pr-3 text-sm font-semibold text-gray-900"])},u(s.charAt(0).toUpperCase()+s.slice(1).replace("_"," ")),3))),128))])]),e("tbody",null,[(t(!0),o(p,null,_(a.answers,(s,m)=>(t(),o("tr",{key:s,class:"border-b border-gray-200"},[(t(!0),o(p,null,_(Object.values(s),(r,g)=>y((t(),o("td",{key:r,class:w([g==1?"text-left":"text-right","hidden py-4 px-3 w-2 text-sm text-gray-500 sm:table-cell"])},[x(l.answers[m],r)=="is_correct"?(t(),o(p,{key:0},[r=="not graded"?(t(),o("button",{key:0,onClick:v(oe=>{n(i).selected_question=s.id,f.value=s.question},["prevent"]),class:"text-indigo-500 font-semibold hover:text-indigo-700"},"Click to Add points",8,Y)):(t(),o("span",ee,u(r),1))],64)):x(l.answers[m],r)=="question"?(t(),o("span",{key:1,innerHTML:`${m+1}.${r}`},null,8,te)):(t(),o("span",{key:2,innerHTML:r},null,8,se))],2)),[[H,g!=0]])),128))]))),128))])])])):b("",!0)])]),_:1}))}};export{fe as default};
