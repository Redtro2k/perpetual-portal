import{o as T,c as M,b as P,M as C,d as S,j as O,W as w,O as X,N as H,F as Q,p as F,q as Y,l as Z,P as ee,U as $,Q as te,w as D,i as ae,t as A,g as k,a as z,e as N,h as le,n as U,f as oe,T as ne}from"./app.d6fd6ef0.js";import{u as V,T as re,F as ie,M as se,o as m,c as ue,l as q,A as de,P as B,N as W,t as E,p as pe,R as K,w as ve,a as f}from"./use-outside-click.4ced2ae8.js";import{x as ce,a as g}from"./calculate-active-index.804d077d.js";import{b as fe}from"./use-resolve-button-type.ddd396ff.js";import{m as be,p as me}from"./use-event-listener.daba031f.js";import{e as xe}from"./form.c56a6aaf.js";function ge(t,c){return T(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[P("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function he(t,c){return T(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[P("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])}var Oe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Oe||{}),ye=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ye||{}),Se=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Se||{});function we(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let G=Symbol("ListboxContext");function j(t){let c=te(G,null);if(c===null){let p=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,j),p}return c}let Le=C({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:c,attrs:p,emit:x}){let e=S(1),d=S(null),r=S(null),b=S(null),i=S([]),h=S(""),a=S(null),n=S(1);function L(l=o=>o){let o=a.value!==null?i.value[a.value]:null,s=ve(l(i.value.slice()),y=>m(y.dataRef.domRef)),v=o?s.indexOf(o):null;return v===-1&&(v=null),{options:s,activeOptionIndex:v}}let R=O(()=>t.modelValue),_=O(()=>t.multiple?1:0),u={listboxState:e,value:R,mode:_,compare(l,o){return l===o},orientation:O(()=>t.horizontal?"horizontal":"vertical"),labelRef:d,buttonRef:r,optionsRef:b,disabled:O(()=>t.disabled),options:i,searchQuery:h,activeOptionIndex:a,activationTrigger:n,closeListbox(){t.disabled||e.value!==1&&(e.value=1,a.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(l,o,s){if(t.disabled||e.value===1)return;let v=L(),y=ce(l===g.Specific?{focus:g.Specific,id:o}:{focus:l},{resolveItems:()=>v.options,resolveActiveIndex:()=>v.activeOptionIndex,resolveId:I=>I.id,resolveDisabled:I=>I.dataRef.disabled});h.value="",a.value=y,n.value=s!=null?s:1,i.value=v.options},search(l){if(t.disabled||e.value===1)return;let o=h.value!==""?0:1;h.value+=l.toLowerCase();let s=(a.value!==null?i.value.slice(a.value+o).concat(i.value.slice(0,a.value+o)):i.value).find(y=>y.dataRef.textValue.startsWith(h.value)&&!y.dataRef.disabled),v=s?i.value.indexOf(s):-1;v===-1||v===a.value||(a.value=v,n.value=1)},clearSearch(){t.disabled||e.value!==1&&h.value!==""&&(h.value="")},registerOption(l,o){let s=L(v=>[...v,{id:l,dataRef:o}]);i.value=s.options,a.value=s.activeOptionIndex},unregisterOption(l){let o=L(s=>{let v=s.findIndex(y=>y.id===l);return v!==-1&&s.splice(v,1),s});i.value=o.options,a.value=o.activeOptionIndex,n.value=1},select(l){t.disabled||x("update:modelValue",V(_.value,{[0]:()=>l,[1]:()=>{let o=w(u.value.value).slice(),s=w(l),v=o.findIndex(y=>u.compare(s,w(y)));return v===-1?o.push(s):o.splice(v,1),o}}))}};return re([r,b],(l,o)=>{var s;u.closeListbox(),ie(o,se.Loose)||(l.preventDefault(),(s=m(r))==null||s.focus())},O(()=>e.value===0)),X(G,u),ue(O(()=>V(e.value,{[0]:q.Open,[1]:q.Closed}))),()=>{let{name:l,modelValue:o,disabled:s,...v}=t,y={open:e.value===0,disabled:s};return H(Q,[...l!=null&&o!=null?xe({[l]:o}).map(([I,J])=>H(be,de({features:me.Hidden,key:I,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:I,value:J}))):[],B({ourProps:{},theirProps:{...p,...W(v,["onUpdate:modelValue","horizontal","multiple","by"])},slot:y,slots:c,attrs:p,name:"Listbox"})])}}}),Re=C({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(t,{attrs:c,slots:p}){let x=j("ListboxLabel"),e=`headlessui-listbox-label-${E()}`;function d(){var r;(r=m(x.buttonRef))==null||r.focus({preventScroll:!0})}return()=>{let r={open:x.listboxState.value===0,disabled:x.disabled.value},b={id:e,ref:x.labelRef,onClick:d};return B({ourProps:b,theirProps:t,slot:r,attrs:c,slots:p,name:"ListboxLabel"})}}}),ke=C({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(t,{attrs:c,slots:p,expose:x}){let e=j("ListboxButton"),d=`headlessui-listbox-button-${E()}`;x({el:e.buttonRef,$el:e.buttonRef});function r(a){switch(a.key){case f.Space:case f.Enter:case f.ArrowDown:a.preventDefault(),e.openListbox(),$(()=>{var n;(n=m(e.optionsRef))==null||n.focus({preventScroll:!0}),e.value.value||e.goToOption(g.First)});break;case f.ArrowUp:a.preventDefault(),e.openListbox(),$(()=>{var n;(n=m(e.optionsRef))==null||n.focus({preventScroll:!0}),e.value.value||e.goToOption(g.Last)});break}}function b(a){switch(a.key){case f.Space:a.preventDefault();break}}function i(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),$(()=>{var n;return(n=m(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),we(()=>{var n;return(n=m(e.optionsRef))==null?void 0:n.focus({preventScroll:!0})})))}let h=fe(O(()=>({as:t.as,type:c.type})),e.buttonRef);return()=>{var a,n;let L={open:e.listboxState.value===0,disabled:e.disabled.value},R={ref:e.buttonRef,id:d,type:h.value,"aria-haspopup":!0,"aria-controls":(a=m(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(n=m(e.labelRef))==null?void 0:n.id,d].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:r,onKeyup:b,onClick:i};return B({ourProps:R,theirProps:t,slot:L,attrs:c,slots:p,name:"ListboxButton"})}}}),Te=C({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:c,slots:p,expose:x}){let e=j("ListboxOptions"),d=`headlessui-listbox-options-${E()}`,r=S(null);x({el:e.optionsRef,$el:e.optionsRef});function b(a){switch(r.value&&clearTimeout(r.value),a.key){case f.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case f.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let n=e.options.value[e.activeOptionIndex.value];e.select(n.dataRef.value)}e.mode.value===0&&(e.closeListbox(),$(()=>{var n;return(n=m(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})}));break;case V(e.orientation.value,{vertical:f.ArrowDown,horizontal:f.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(g.Next);case V(e.orientation.value,{vertical:f.ArrowUp,horizontal:f.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(g.Previous);case f.Home:case f.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(g.First);case f.End:case f.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(g.Last);case f.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),$(()=>{var n;return(n=m(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case f.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),r.value=setTimeout(()=>e.clearSearch(),350));break}}let i=pe(),h=O(()=>i!==null?i.value===q.Open:e.listboxState.value===0);return()=>{var a,n,L,R;let _={open:e.listboxState.value===0},u={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(R=(n=m(e.labelRef))==null?void 0:n.id)!=null?R:(L=m(e.buttonRef))==null?void 0:L.id,"aria-orientation":e.orientation.value,id:d,onKeydown:b,role:"listbox",tabIndex:0,ref:e.optionsRef};return B({ourProps:u,theirProps:t,slot:_,attrs:c,slots:p,features:K.RenderStrategy|K.Static,visible:h.value,name:"ListboxOptions"})}}}),Pe=C({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:c,attrs:p,expose:x}){let e=j("ListboxOption"),d=`headlessui-listbox-option-${E()}`,r=S(null);x({el:r,$el:r});let b=O(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===d:!1),i=O(()=>V(e.mode.value,{[0]:()=>e.compare(w(e.value.value),w(t.value)),[1]:()=>w(e.value.value).some(u=>e.compare(w(u),w(t.value)))})),h=O(()=>V(e.mode.value,{[1]:()=>{var u;let l=w(e.value.value);return((u=e.options.value.find(o=>l.some(s=>e.compare(w(s),w(o.dataRef.value)))))==null?void 0:u.id)===d},[0]:()=>i.value})),a=O(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:r}));F(()=>{var u,l;let o=(l=(u=m(r))==null?void 0:u.textContent)==null?void 0:l.toLowerCase().trim();o!==void 0&&(a.value.textValue=o)}),F(()=>e.registerOption(d,a)),Y(()=>e.unregisterOption(d)),F(()=>{Z([e.listboxState,i],()=>{e.listboxState.value===0&&(!i.value||V(e.mode.value,{[1]:()=>{h.value&&e.goToOption(g.Specific,d)},[0]:()=>{e.goToOption(g.Specific,d)}}))},{immediate:!0})}),ee(()=>{e.listboxState.value===0&&(!b.value||e.activationTrigger.value!==0&&$(()=>{var u,l;return(l=(u=m(r))==null?void 0:u.scrollIntoView)==null?void 0:l.call(u,{block:"nearest"})}))});function n(u){if(t.disabled)return u.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),$(()=>{var l;return(l=m(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}))}function L(){if(t.disabled)return e.goToOption(g.Nothing);e.goToOption(g.Specific,d)}function R(){t.disabled||b.value||e.goToOption(g.Specific,d,0)}function _(){t.disabled||!b.value||e.goToOption(g.Nothing)}return()=>{let{disabled:u}=t,l={active:b.value,selected:i.value,disabled:u},o={id:d,ref:r,role:"option",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,"aria-selected":i.value===!0?i.value:void 0,disabled:void 0,onClick:n,onFocus:L,onPointermove:R,onMousemove:R,onPointerleave:_,onMouseleave:_};return B({ourProps:o,theirProps:W(t,["value","disabled"]),slot:l,attrs:p,slots:c,name:"ListboxOption"})}}});const _e={class:"mt-1 relative"},$e={key:0,class:"block truncate"},Ve={key:1,class:"block truncate text-gray-500"},Ie={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},Ne={__name:"SimpleCustom",props:{options:Object,modelValue:[String],placeholder:{type:String,default:()=>"Select Option"},label:String},emits:["update:modelValue"],setup(t,{emit:c}){const p=t;S(p.options[0].id);const x=O(()=>{var e;return(e=p.options.find(d=>d.name===p.modelValue))==null?void 0:e.name});return(e,d)=>(T(),M(k(Le),{as:"div","onUpdate:modelValue":d[0]||(d[0]=r=>c("update:modelValue",r)),modelValue:p.modelValue},{default:D(()=>[P(k(Re),{class:"block text-sm font-medium text-gray-700"},{default:D(()=>[ae(A(p.label),1)]),_:1}),z("div",_e,[P(k(ke),{class:"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-jvgreen focus:border-jvgreen sm:text-sm"},{default:D(()=>[k(x)?(T(),N("span",$e,A(k(x)),1)):(T(),N("span",Ve,A(p.placeholder),1)),z("span",Ie,[P(k(he),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),P(ne,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:D(()=>[P(k(Te),{class:"absolute right-0 z-[100] overflow-auto mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:D(()=>[(T(!0),N(Q,null,le(p.options,r=>(T(),M(k(Pe),{as:"template",key:r.id,value:r.name},{default:D(({active:b,selected:i})=>[z("li",{class:U([b?"text-white bg-jvdgreen":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9"])},[z("span",{class:U([i?"font-semibold":"font-normal","block truncate"])},A(r.name),3),i?(T(),N("span",{key:0,class:U([b?"text-white":"text-jvdgreen","absolute inset-y-0 right-0 flex items-center pr-4"])},[P(k(ge),{class:"h-5 w-5","aria-hidden":"true"})],2)):oe("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}};export{Ne as _};
