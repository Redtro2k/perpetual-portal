import{o as h,e as P,v as j,x as A,b as r,c as w,f as R,r as B,d as _,u as C,j as x,C as N,w as y,a as s,m as I,h as t,D as S,E as D,G as O}from"./app.c0b37285.js";import{_ as M}from"./WithList.1d81656e.js";import{_ as Q}from"./WithDismiss.3152626f.js";import{_ as f}from"./InputText.09d6bb72.js";import{_ as T}from"./UserLayout.e8ce5739.js";import{_ as V}from"./SimpleCustom.506ec89a.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";import"./popover.3642bdb1.js";import"./use-outside-click.0afa5db2.js";import"./use-resolve-button-type.3cfc88d2.js";import"./use-event-listener.60acb20e.js";import"./menu.cc44a716.js";import"./calculate-active-index.804d077d.js";const G={class:"max-w-xl mx-auto pt-2 pb-8 lg:pb-16 bg-white overflow-hidden shadow sm:rounded-lg"},z={__name:"MainSection",props:{hasError:Boolean,labelErrors:Object},setup(i){return(n,d)=>(h(),P("main",G,[j(r(M,{labels:i.labelErrors},null,8,["labels"]),[[A,i.hasError]]),n.$page.props.flash.success?(h(),w(Q,{key:0,label:n.$page.props.flash.success},null,8,["label"])):R("",!0),B(n.$slots,"main",{class:"px-4 py-5 sm:p-6"})]))}};const g=i=>(D("data-v-f1ca28e2"),i=i(),O(),i),H={class:"px-4 py-5 sm:-6"},J={class:"space-y-6 py-2"},K=g(()=>s("div",null,[s("h1",{class:"text-lg leading-6 font-bold text-gray-900"},"School Edit"),s("p",{class:"mt-1 text-sm text-gray-500"}," Rewrite something our School information. ")],-1)),L={class:"mt-1"},W=g(()=>s("label",{class:"block text-sm font-medium text-gray-700"}," Description ",-1)),X={class:"p-4 flex justify-center items-center"},Y=["src"],Z={class:"mt-1"},ee=g(()=>s("label",{class:"block text-sm font-medium text-gray-700"}," Upload Images ",-1)),oe={class:"mt-1"},se={class:"mt-1"},te={class:"flex justify-end pt-8"},le=["disabled"],ne={__name:"AdminSchoolEdit",props:{school:Object,school_image:String},setup(i){const n=i;var d=require("phil-reg-prov-mun-brgy");const c=_(n.school.region),m=_(),p=_(n.school.province);console.log();const o=C({_method:"PUT",name:n.school.name,description:n.school.description,region:null,province:null,address:n.school.address,image:null,contact:n.school.contact}),v=x(()=>d.regions.map(function(a){return delete Object.assign(a,{id:a.reg_code}).reg_code,a})),E=x(()=>{const a=typeof m.value>"u"?"01":m.value;return d.getProvincesByRegion(a).map(function(e){return delete Object.assign(e,{id:e.prov_code}).prov_code,e})}),k=v.value;N(()=>{var e;var a=(e=k.find(u=>u.name===c.value))==null?void 0:e.id;m.value=a,o.region=c.value,o.province=p.value});const $=(a,e)=>{o.image=[],o.image.push(e.file),console.log(o.image)},U=(a,e)=>{o.image=null,console.log(o.image)};let b=()=>{o.post(route("school.update",39),{preserveScroll:!0,forceFormData:!0})};return(a,e)=>{const u=S("QuillEditor"),F=S("File-Pond");return h(),w(T,{title:"School Edit",showSideNav:!1},{content:y(()=>[r(z,{"has-error":t(o).hasErrors,"label-errors":t(o).errors},{main:y(()=>[s("div",H,[s("form",{onSubmit:e[6]||(e[6]=I((...l)=>t(b)&&t(b)(...l),["prevent"]))},[s("div",J,[K,s("div",L,[r(f,{label:"Name",modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).name=l),placeholder:"Name"},null,8,["modelValue"])])]),s("div",null,[W,r(u,{content:t(o).description,"onUpdate:content":e[1]||(e[1]=l=>t(o).description=l),contentType:"html",placeholder:"description about School",toolbar:"essential",theme:"snow"},null,8,["content"])]),s("div",null,[r(V,{label:"Region",modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=l=>c.value=l),options:t(v)},null,8,["modelValue","options"]),r(V,{label:"Province",modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=l=>p.value=l),options:t(E)},null,8,["modelValue","options"])]),s("div",X,[s("img",{class:"w-5/6 mb-10 object-cover object-center rounded",alt:"hero",src:n.school_image},null,8,Y)]),s("div",null,[s("div",Z,[ee,r(F,{accept:"image/png, image/jpeg, image/gif",onAddfile:$,onRemovefile:U})])]),s("div",oe,[r(f,{label:"Address",modelValue:t(o).address,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).address=l),placeholder:"Address"},null,8,["modelValue"])]),s("div",se,[r(f,{label:"Contact",modelValue:t(o).contact,"onUpdate:modelValue":e[5]||(e[5]=l=>t(o).contact=l),placeholder:"Contact"},null,8,["modelValue"])]),s("div",te,[s("button",{type:"submit",disabled:t(o).processing,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sky-500 hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500"}," Update School ",8,le)])],32)])]),_:1},8,["has-error","label-errors"])]),_:1})}}},be=q(ne,[["__scopeId","data-v-f1ca28e2"]]);export{be as default};
