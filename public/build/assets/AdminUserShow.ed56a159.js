import{o as a,c as i,b as s,e as p,a as e,t as k,w as r,n as c,h as o,g as u,L as O,d as P,j as B,u as U,p as A,k as N,$ as M,v as C,x as R,m as E,a6 as L,f as _,s as z,D}from"./app.4f3f3175.js";import{_ as T}from"./UserLayout.54150c5c.js";import{s as H,d as v,f as I,c as b,_ as w,o as W}from"./FormDescription.71c84fca.js";import{l as G}from"./switch.2231c258.js";import{_ as q}from"./SimpleCustom.95a2bec5.js";import{_ as F}from"./Button.900e850d.js";import{_ as J}from"./WithList.90565c30.js";import{r as K}from"./UserIcon.c4c10469.js";import{r as Q}from"./CogIcon.e96fc751.js";import"./SearchIcon.8ac3483f.js";import"./popover.76a468dc.js";import"./use-outside-click.6f679d58.js";import"./use-resolve-button-type.17c0443c.js";import"./use-event-listener.f266e277.js";import"./menu.3f638112.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.db56225d.js";import"./micro-task.fe338338.js";import"./label.0ceb2945.js";import"./description.4b660e59.js";import"./use-controllable.ef010fe9.js";function X(l,t){return a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])}const Y={class:"py-4 sm:py-5 w-full sm:grid sm:grid-cols-3 sm:gap-4"},Z={class:"text-sm flex font-medium text-gray-500"},ee={class:"mt-1 pl-4 flex flex-row text-sm text-gray-900 sm:mt-0 sm:col-span-2"},se={class:"grow"},f={__name:"FormSpan",props:{label:String,value:String},setup(l){return(t,d)=>(a(),p("div",Y,[e("dt",Z,k(l.label),1),e("dd",ee,[e("span",se,k(l.value),1)])]))}},te={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:pt-5"},oe=e("dt",{class:"text-sm font-medium text-gray-500"},"Photo",-1),le={class:"mt-1 flex text-sm text-gray-900 sm:mt-0 sm:col-span-2"},re={class:"flex-grow"},ae=["src"],ne={__name:"FormPhoto",props:{src:String},setup(l){const t=l;return(d,x)=>(a(),p("div",te,[oe,e("dd",le,[e("span",re,[e("img",{class:"h-8 w-8 rounded-full",src:t.src,alt:""},null,8,ae)])])]))}},ie={class:"mt-6 grid grid-cols-4 gap-6"},de={class:"col-span-4 sm:col-span-2"},ce={for:"first-name",class:"block text-sm font-medium text-gray-700"},me=e("span",{class:"sr-only"},"Enable notifications",-1),ue={__name:"FormSwitch",props:{label:String,modelValue:[Boolean]},emits:["update:modelValue"],setup(l,{emit:t}){const d=l;return(x,h)=>(a(),p("div",ie,[e("div",de,[e("label",ce,k(l.label),1),s(o(G),{as:"div","onUpdate:modelValue":h[0]||(h[0]=g=>t("update:modelValue",g)),modelValue:d.modelValue,class:c([l.modelValue?"bg-jvgreen":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:r(()=>[me,e("span",{class:c([l.modelValue?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"])])]))}},pe={class:"mt-6 grid grid-cols-4 gap-6"},ge={class:"col-span-4 sm:col-span-2"},_e=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Back up Routine",-1),fe={__name:"FormButton",props:{href:String},setup(l){return(t,d)=>(a(),p("div",pe,[e("div",ge,[_e,s(o(O),{href:t.route(l.href),class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-jvgreen"},{default:r(()=>[u("Upload")]),_:1},8,["href"])])]))}},he={class:"max-w-7xl mx-auto pb-10 lg:py-12 lg:px-8"},xe={class:"lg:grid lg:grid-cols-12 lg:gap-x-5"},ye={class:"py-6 px-2 sm:px-6 lg:py-0 lg:px-0 lg:col-span-3"},ve={class:"space-y-1"},be={class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9"},we={class:"mt-6 grid grid-cols-4 gap-6"},ke={class:"divide-y divide-gray-200"},$e={class:"z-index-0 mt-6 grid grid-cols-4 gap-6"},Se={class:"divide-y divide-gray-200"},Ve={key:1,class:"pt-2"},je=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Handle Section & Subjects",-1),Be={key:2,class:"py-2"},Ne=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Handle Section & Subjects",-1),Xe={__name:"AdminUserShow",props:{users:Object,roles:Object,selected_role:String,user_roles:Object},setup(l){const t=l;console.log(t.selected_role);const d=P(!1),x=B(()=>{if(t.users.birthdate!=null)M(t.users.birthdate).format("LL");else return"no birthdate"}),h=B(()=>N().props.value.user.roles[0].name),g=U({id:t.users.id,roles:t.selected_role}),y=[];let $=()=>{g.post(route("add-role"),{onBefore:()=>confirm("Are you sure you wanna assign this user?")})};return A(()=>{t.selected_role&&y.push("This user already exists in roles."),N().props.value.can.school_existed.allowed&&y.push("No currently, the school you need to add school first...")}),(S,m)=>{const V=D("inner-table"),j=D("WithDashBorder");return a(),i(T,{"no-content":"",title:"Manage User",showSideNav:!1},{content:r(()=>[e("main",he,[e("div",xe,[s(o(W),{vertical:""},{default:r(()=>[e("aside",ye,[e("nav",ve,[s(o(H),null,{default:r(()=>[s(o(v),{as:"template"},{default:r(({selected:n})=>[e("button",{class:c([n?"bg-gray-50 text-jvdgreen hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[s(o(K),{class:c([n?"text-jvgreen":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),u(" Profile Information ")],2)]),_:1}),s(o(v),{as:"template"},{default:r(({selected:n})=>[e("button",{class:c([n?"bg-white text-jvdgreen hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[s(o(X),{class:c([n?"text-jvgreen":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),u(" Profile Roles ")],2)]),_:1}),s(o(v),{as:"template"},{default:r(({selected:n})=>[C(e("button",{class:c([n?"bg-gray-50 text-jvdgreen hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[s(o(Q),{class:c([n?"text-jvgreen":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),u(" Backup ")],2),[[R,o(h)=="administrator"]])]),_:1})]),_:1})])]),e("div",be,[s(o(I),null,{default:r(()=>[s(o(b),null,{default:r(()=>[s(w,{title:"User Information",description:"This information will be displayed publicly so be careful what you share."},{main:r(()=>[e("div",we,[e("dl",ke,[s(f,{label:"Name",value:l.users.name},null,8,["value"]),s(ne,{src:l.users.profile_photo_url},null,8,["src"]),s(f,{label:"Email",value:l.users.email},null,8,["value"]),s(f,{label:"Gender",value:l.users.gender},null,8,["value"]),s(f,{label:"BirthDate",value:o(x)},null,8,["value"]),s(f,{label:"Created",value:o(M)(l.users.created_at).format("ll")},null,8,["value"])])])]),_:1})]),_:1}),s(o(b),null,{default:r(()=>[e("form",{onSubmit:m[1]||(m[1]=E((...n)=>o($)&&o($)(...n),["prevent"]))},[s(w,{title:"Add Roles",description:"add user roles",haveFooter:!S.$page.props.can.school_existed.allowed},L({main:r(()=>[e("div",$e,[e("dl",Se,[s(q,{class:"pb-20",label:"add roles",options:t.roles,modelValue:o(g).roles,"onUpdate:modelValue":m[0]||(m[0]=n=>o(g).roles=n)},null,8,["options","modelValue"])])]),t.selected_role?(a(),i(J,{key:0,labels:y})):_("",!0),t.user_roles.hasOwnProperty("teacher")?(a(),p("div",Ve,[je,t.user_roles.teacher.length!=0?(a(),i(V,{key:0,items:t.user_roles.teacher},null,8,["items"])):(a(),i(j,{key:1,label:"No currently assigned"}))])):_("",!0),t.user_roles.hasOwnProperty("student")?(a(),p("div",Be,[Ne,t.user_roles.student!=null?(a(),i(V,{key:0,items:[t.user_roles.student]},null,8,["items"])):(a(),i(j,{key:1,label:"No currently assigned"}))])):_("",!0)]),_:2},[S.$page.props.can.school_existed.allowed?void 0:{name:"footer",fn:r(()=>[t.selected_role?(a(),i(F,{key:0,isSecondary:""},{default:r(()=>[u("Demote")]),_:1})):_("",!0),t.selected_role?_("",!0):(a(),i(F,{key:1},{default:r(()=>[u("submit")]),_:1}))]),key:"0"}]),1032,["haveFooter"])],32)]),_:1}),s(o(b),null,{default:r(()=>[s(w,{title:"Setting as super-administrator/Admin",description:"this all of control all our system, including backup routine,schedule, for maintenance mode"},{main:r(()=>[s(ue,{label:"Maintenance Mode",modelValue:o(d),"onUpdate:modelValue":m[2]||(m[2]=n=>z(d)?d.value=n:null)},null,8,["modelValue"]),s(fe,{label:"Maintenance Mode",href:"post.store"})]),_:1})]),_:1})]),_:1})])]),_:1})])])]),_:1})}}};export{Xe as default};
