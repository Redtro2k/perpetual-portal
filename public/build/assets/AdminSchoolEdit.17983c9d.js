import{o as g,e as F,v as R,x as k,b as r,c as w,_ as A,f as B,r as C,d as u,u as N,j as b,P as I,w as x,C as y,a as t,m as O,g as s,$ as D,a0 as M}from"./app.d6fd6ef0.js";import{_ as Q}from"./WithList.b4a25fec.js";import{_}from"./InputText.67225ac7.js";import{_ as T}from"./UserLayout.cf4779a3.js";import{_ as S}from"./SimpleCustom.543c427c.js";import{p as V}from"./index.8ca1eca9.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SearchIcon.ef60ed6c.js";import"./popover.11880e8a.js";import"./use-outside-click.4ced2ae8.js";import"./use-resolve-button-type.ddd396ff.js";import"./use-event-listener.daba031f.js";import"./menu.57fea4d8.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.c44d3662.js";import"./form.c56a6aaf.js";const z={class:"max-w-xl mx-auto pt-2 pb-8 lg:pb-16 bg-white overflow-hidden shadow sm:rounded-lg"},G={__name:"MainSection",props:{hasError:Boolean,labelErrors:Object},setup(i){return(n,d)=>(g(),F("main",z,[R(r(Q,{labels:i.labelErrors},null,8,["labels"]),[[k,i.hasError]]),n.$page.props.flash.success?(g(),w(A,{key:0,label:n.$page.props.flash.success},null,8,["label"])):B("",!0),C(n.$slots,"main",{class:"px-4 py-5 sm:p-6"})]))}};const f=i=>(D("data-v-7b1add0f"),i=i(),M(),i),H={class:"px-4 py-5 sm:-6"},J={class:"space-y-6 py-2"},K=f(()=>t("div",null,[t("h1",{class:"text-lg leading-6 font-bold text-gray-900"},"School Edit"),t("p",{class:"mt-1 text-sm text-gray-500"}," Rewrite something our School information. ")],-1)),L={class:"mt-1"},W=f(()=>t("label",{class:"block text-sm font-medium text-gray-700"}," Description ",-1)),X={class:"p-4 flex justify-center items-center"},Y=["src"],Z={class:"mt-1"},ee=f(()=>t("label",{class:"block text-sm font-medium text-gray-700"}," Upload Images ",-1)),oe={class:"mt-1"},te={class:"mt-1"},se={class:"flex justify-end pt-8"},le=["disabled"],ne={__name:"AdminSchoolEdit",props:{school:Object,school_image:String},setup(i){const n=i,d=u(n.school.region),c=u(),m=u(n.school.province);console.log();const o=N({_method:"PUT",name:n.school.name,description:n.school.description,region:null,province:null,address:n.school.address,image:null,contact:n.school.contact}),h=b(()=>V.regions.map(function(a){return delete Object.assign(a,{id:a.reg_code}).reg_code,a})),E=b(()=>{const a=typeof c.value>"u"?"01":c.value;return V.getProvincesByRegion(a).map(function(e){return delete Object.assign(e,{id:e.prov_code}).prov_code,e})}),$=h.value;I(()=>{var e;var a=(e=$.find(p=>p.name===d.value))==null?void 0:e.id;c.value=a,o.region=d.value,o.province=m.value});const j=(a,e)=>{o.image=[],o.image.push(e.file),console.log(o.image)},P=(a,e)=>{o.image=null,console.log(o.image)};let v=()=>{o.post(route("school.update",n.school.id),{preserveScroll:!0,forceFormData:!0})};return(a,e)=>{const p=y("QuillEditor"),U=y("File-Pond");return g(),w(T,{title:"School Edit",showSideNav:!1},{content:x(()=>[r(G,{"has-error":s(o).hasErrors,"label-errors":s(o).errors},{main:x(()=>[t("div",H,[t("form",{onSubmit:e[6]||(e[6]=O((...l)=>s(v)&&s(v)(...l),["prevent"]))},[t("div",J,[K,t("div",L,[r(_,{label:"Name",modelValue:s(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>s(o).name=l),placeholder:"Name"},null,8,["modelValue"])])]),t("div",null,[W,r(p,{content:s(o).description,"onUpdate:content":e[1]||(e[1]=l=>s(o).description=l),contentType:"html",placeholder:"description about School",toolbar:"essential",theme:"snow"},null,8,["content"])]),t("div",null,[r(S,{label:"Region",modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=l=>d.value=l),options:s(h)},null,8,["modelValue","options"]),r(S,{label:"Province",modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=l=>m.value=l),options:s(E)},null,8,["modelValue","options"])]),t("div",X,[t("img",{class:"w-5/6 mb-10 object-cover object-center rounded",alt:"hero",src:n.school_image},null,8,Y)]),t("div",null,[t("div",Z,[ee,r(U,{accept:"image/png, image/jpeg, image/gif",onAddfile:j,onRemovefile:P})])]),t("div",oe,[r(_,{label:"Address",modelValue:s(o).address,"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).address=l),placeholder:"Address"},null,8,["modelValue"])]),t("div",te,[r(_,{label:"Contact",modelValue:s(o).contact,"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).contact=l),placeholder:"Contact"},null,8,["modelValue"])]),t("div",se,[t("button",{type:"submit",disabled:s(o).processing,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-jvgreen hover:bg-jvdgreen focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-jvgreen"}," Update School ",8,le)])],32)])]),_:1},8,["has-error","label-errors"])]),_:1})}}},Se=q(ne,[["__scopeId","data-v-7b1add0f"]]);export{Se as default};
