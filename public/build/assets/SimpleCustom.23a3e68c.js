import{o as T,c as M,b as _,M as j,d as w,j as h,W as L,O as Z,N as Q,F as G,p as q,q as $,l as ee,P as te,U as I,Q as ae,w as C,h as P,g as le,t as N,a as E,e as F,T as oe,i as ne,n as H,f as ie}from"./app.b30cca47.js";import{u as D,y as re,h as se,F as ue,o as x,c as de,l as K,V as pe,P as z,w as J,t as U,p as ve,R as W,O as ce,a as b}from"./use-outside-click.ea02fb66.js";import{x as fe,a as y}from"./calculate-active-index.804d077d.js";import{b as be}from"./use-resolve-button-type.1a388b2e.js";import{f as me,a as xe}from"./use-event-listener.52918342.js";import{d as ge,e as he}from"./use-controllable.3ed737d4.js";function ye(t,c){return T(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[_("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function Oe(t,c){return T(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[_("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])}function Se(t,c){return t===c}var we=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(we||{}),Le=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Le||{}),Re=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Re||{});function ke(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let X=Symbol("ListboxContext");function A(t){let c=ae(X,null);if(c===null){let d=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,A),d}return c}let Ve=j({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Se},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:c,attrs:d,emit:g}){let e=w(1),u=w(null),i=w(null),m=w(null),s=w([]),O=w(""),a=w(null),l=w(1);function R(o=n=>n){let n=a.value!==null?s.value[a.value]:null,r=ce(o(s.value.slice()),S=>x(S.dataRef.domRef)),v=n?r.indexOf(n):null;return v===-1&&(v=null),{options:r,activeOptionIndex:v}}let k=h(()=>t.multiple?1:0),[V,p]=ge(h(()=>t.modelValue),o=>g("update:modelValue",o),h(()=>t.defaultValue)),f={listboxState:e,value:V,mode:k,compare(o,n){if(typeof t.by=="string"){let r=t.by;return(o==null?void 0:o[r])===(n==null?void 0:n[r])}return t.by(o,n)},orientation:h(()=>t.horizontal?"horizontal":"vertical"),labelRef:u,buttonRef:i,optionsRef:m,disabled:h(()=>t.disabled),options:s,searchQuery:O,activeOptionIndex:a,activationTrigger:l,closeListbox(){t.disabled||e.value!==1&&(e.value=1,a.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(o,n,r){if(t.disabled||e.value===1)return;let v=R(),S=fe(o===y.Specific?{focus:y.Specific,id:n}:{focus:o},{resolveItems:()=>v.options,resolveActiveIndex:()=>v.activeOptionIndex,resolveId:B=>B.id,resolveDisabled:B=>B.dataRef.disabled});O.value="",a.value=S,l.value=r!=null?r:1,s.value=v.options},search(o){if(t.disabled||e.value===1)return;let n=O.value!==""?0:1;O.value+=o.toLowerCase();let r=(a.value!==null?s.value.slice(a.value+n).concat(s.value.slice(0,a.value+n)):s.value).find(S=>S.dataRef.textValue.startsWith(O.value)&&!S.dataRef.disabled),v=r?s.value.indexOf(r):-1;v===-1||v===a.value||(a.value=v,l.value=1)},clearSearch(){t.disabled||e.value!==1&&O.value!==""&&(O.value="")},registerOption(o,n){let r=R(v=>[...v,{id:o,dataRef:n}]);s.value=r.options,a.value=r.activeOptionIndex},unregisterOption(o){let n=R(r=>{let v=r.findIndex(S=>S.id===o);return v!==-1&&r.splice(v,1),r});s.value=n.options,a.value=n.activeOptionIndex,l.value=1},select(o){t.disabled||p(D(k.value,{[0]:()=>o,[1]:()=>{let n=L(f.value.value).slice(),r=L(o),v=n.findIndex(S=>f.compare(r,L(S)));return v===-1?n.push(r):n.splice(v,1),n}}))}};return re([i,m],(o,n)=>{var r;f.closeListbox(),se(n,ue.Loose)||(o.preventDefault(),(r=x(i))==null||r.focus())},h(()=>e.value===0)),Z(X,f),de(h(()=>D(e.value,{[0]:K.Open,[1]:K.Closed}))),()=>{let{name:o,modelValue:n,disabled:r,...v}=t,S={open:e.value===0,disabled:r,value:V.value};return Q(G,[...o!=null&&V.value!=null?he({[o]:V.value}).map(([B,Y])=>Q(me,pe({features:xe.Hidden,key:B,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:B,value:Y}))):[],z({ourProps:{},theirProps:{...d,...J(v,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:S,slots:c,attrs:d,name:"Listbox"})])}}}),Pe=j({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(t,{attrs:c,slots:d}){let g=A("ListboxLabel"),e=`headlessui-listbox-label-${U()}`;function u(){var i;(i=x(g.buttonRef))==null||i.focus({preventScroll:!0})}return()=>{let i={open:g.listboxState.value===0,disabled:g.disabled.value},m={id:e,ref:g.labelRef,onClick:u};return z({ourProps:m,theirProps:t,slot:i,attrs:c,slots:d,name:"ListboxLabel"})}}}),Te=j({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(t,{attrs:c,slots:d,expose:g}){let e=A("ListboxButton"),u=`headlessui-listbox-button-${U()}`;g({el:e.buttonRef,$el:e.buttonRef});function i(a){switch(a.key){case b.Space:case b.Enter:case b.ArrowDown:a.preventDefault(),e.openListbox(),I(()=>{var l;(l=x(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(y.First)});break;case b.ArrowUp:a.preventDefault(),e.openListbox(),I(()=>{var l;(l=x(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(y.Last)});break}}function m(a){switch(a.key){case b.Space:a.preventDefault();break}}function s(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),I(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),ke(()=>{var l;return(l=x(e.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let O=be(h(()=>({as:t.as,type:c.type})),e.buttonRef);return()=>{var a,l;let R={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},k={ref:e.buttonRef,id:u,type:O.value,"aria-haspopup":!0,"aria-controls":(a=x(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(l=x(e.labelRef))==null?void 0:l.id,u].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:m,onClick:s};return z({ourProps:k,theirProps:t,slot:R,attrs:c,slots:d,name:"ListboxButton"})}}}),_e=j({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:c,slots:d,expose:g}){let e=A("ListboxOptions"),u=`headlessui-listbox-options-${U()}`,i=w(null);g({el:e.optionsRef,$el:e.optionsRef});function m(a){switch(i.value&&clearTimeout(i.value),a.key){case b.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case b.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let l=e.options.value[e.activeOptionIndex.value];e.select(l.dataRef.value)}e.mode.value===0&&(e.closeListbox(),I(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case D(e.orientation.value,{vertical:b.ArrowDown,horizontal:b.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Next);case D(e.orientation.value,{vertical:b.ArrowUp,horizontal:b.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Previous);case b.Home:case b.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(y.First);case b.End:case b.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(y.Last);case b.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),I(()=>{var l;return(l=x(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case b.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),i.value=setTimeout(()=>e.clearSearch(),350));break}}let s=ve(),O=h(()=>s!==null?s.value===K.Open:e.listboxState.value===0);return()=>{var a,l,R,k;let V={open:e.listboxState.value===0},p={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(k=(l=x(e.labelRef))==null?void 0:l.id)!=null?k:(R=x(e.buttonRef))==null?void 0:R.id,"aria-orientation":e.orientation.value,id:u,onKeydown:m,role:"listbox",tabIndex:0,ref:e.optionsRef};return z({ourProps:p,theirProps:t,slot:V,attrs:c,slots:d,features:W.RenderStrategy|W.Static,visible:O.value,name:"ListboxOptions"})}}}),Ie=j({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:c,attrs:d,expose:g}){let e=A("ListboxOption"),u=`headlessui-listbox-option-${U()}`,i=w(null);g({el:i,$el:i});let m=h(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===u:!1),s=h(()=>D(e.mode.value,{[0]:()=>e.compare(L(e.value.value),L(t.value)),[1]:()=>L(e.value.value).some(p=>e.compare(L(p),L(t.value)))})),O=h(()=>D(e.mode.value,{[1]:()=>{var p;let f=L(e.value.value);return((p=e.options.value.find(o=>f.some(n=>e.compare(L(n),L(o.dataRef.value)))))==null?void 0:p.id)===u},[0]:()=>s.value})),a=h(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:i}));q(()=>{var p,f;let o=(f=(p=x(i))==null?void 0:p.textContent)==null?void 0:f.toLowerCase().trim();o!==void 0&&(a.value.textValue=o)}),q(()=>e.registerOption(u,a)),$(()=>e.unregisterOption(u)),q(()=>{ee([e.listboxState,s],()=>{e.listboxState.value===0&&(!s.value||D(e.mode.value,{[1]:()=>{O.value&&e.goToOption(y.Specific,u)},[0]:()=>{e.goToOption(y.Specific,u)}}))},{immediate:!0})}),te(()=>{e.listboxState.value===0&&(!m.value||e.activationTrigger.value!==0&&I(()=>{var p,f;return(f=(p=x(i))==null?void 0:p.scrollIntoView)==null?void 0:f.call(p,{block:"nearest"})}))});function l(p){if(t.disabled)return p.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),I(()=>{var f;return(f=x(e.buttonRef))==null?void 0:f.focus({preventScroll:!0})}))}function R(){if(t.disabled)return e.goToOption(y.Nothing);e.goToOption(y.Specific,u)}function k(){t.disabled||m.value||e.goToOption(y.Specific,u,0)}function V(){t.disabled||!m.value||e.goToOption(y.Nothing)}return()=>{let{disabled:p}=t,f={active:m.value,selected:s.value,disabled:p},o={id:u,ref:i,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":s.value,disabled:void 0,onClick:l,onFocus:R,onPointermove:k,onMousemove:k,onPointerleave:V,onMouseleave:V};return z({ourProps:o,theirProps:J(t,["value","disabled"]),slot:f,attrs:d,slots:c,name:"ListboxOption"})}}});const De={class:"mt-1 relative"},Be={key:0,class:"block truncate"},Ce={key:1,class:"block truncate text-gray-500"},je={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},Ue={__name:"SimpleCustom",props:{options:Object,modelValue:[String],placeholder:{type:String,default:()=>"Select Option"},label:String},emits:["update:modelValue"],setup(t,{emit:c}){const d=t;w(d.options[0].id);const g=h(()=>{var e;return(e=d.options.find(u=>u.name===d.modelValue))==null?void 0:e.name});return(e,u)=>(T(),M(P(Ve),{as:"div","onUpdate:modelValue":u[0]||(u[0]=i=>c("update:modelValue",i)),modelValue:d.modelValue},{default:C(()=>[_(P(Pe),{class:"block text-sm font-medium text-gray-700"},{default:C(()=>[le(N(d.label),1)]),_:1}),E("div",De,[_(P(Te),{class:"bg-white relative w-full border border-gray-300 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-jvgreen focus:border-jvgreen sm:text-sm"},{default:C(()=>[P(g)?(T(),F("span",Be,N(P(g)),1)):(T(),F("span",Ce,N(d.placeholder),1)),E("span",je,[_(P(Oe),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),_(oe,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:C(()=>[_(P(_e),{class:"absolute right-0 z-[100] overflow-auto mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:C(()=>[(T(!0),F(G,null,ne(d.options,i=>(T(),M(P(Ie),{as:"template",key:i.id,value:i.name},{default:C(({active:m,selected:s})=>[E("li",{class:H([m?"text-white bg-jvdgreen":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9"])},[E("span",{class:H([s?"font-semibold":"font-normal","block truncate"])},N(i.name),3),s?(T(),F("span",{key:0,class:H([m?"text-white":"text-jvdgreen","absolute inset-y-0 right-0 flex items-center pr-4"])},[_(P(ye),{class:"h-5 w-5","aria-hidden":"true"})],2)):ie("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}};export{Ue as _};
