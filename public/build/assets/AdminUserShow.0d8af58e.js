import{o as n,e as _,a as e,t as y,b as s,w as r,n as d,s as M,g as o,L as P,i as g,d as R,j as B,u as U,p as D,k as V,c as i,C as N,m as A,a5 as E,f as h}from"./app.d6fd6ef0.js";import{_ as L}from"./UserLayout.cf4779a3.js";import{Z as T,e as v,t as Y,a as w,_ as $,Y as z}from"./FormDescription.6a96f0c9.js";import{Y as H}from"./switch.5fc13a2f.js";import{_ as I}from"./SimpleCustom.543c427c.js";import{_ as C}from"./Button.6d30971e.js";import{_ as W}from"./WithList.b4a25fec.js";import{h as F}from"./moment.9709ab41.js";import{r as G}from"./UserIcon.21820f05.js";import{r as Z}from"./ShieldCheckIcon.2552a943.js";import{r as q}from"./CogIcon.5d467723.js";import"./SearchIcon.ef60ed6c.js";import"./popover.11880e8a.js";import"./use-outside-click.4ced2ae8.js";import"./use-resolve-button-type.ddd396ff.js";import"./use-event-listener.daba031f.js";import"./menu.57fea4d8.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.c44d3662.js";import"./label.d955b3ac.js";import"./description.42e15c9a.js";import"./form.c56a6aaf.js";const J={class:"py-4 sm:py-5 w-full sm:grid sm:grid-cols-3 sm:gap-4"},K={class:"text-sm flex font-medium text-gray-500"},Q={class:"mt-1 pl-4 flex flex-row text-sm text-gray-900 sm:mt-0 sm:col-span-2"},X={class:"grow"},x={__name:"FormSpan",props:{label:String,value:String},setup(l){return(t,c)=>(n(),_("div",J,[e("dt",K,y(l.label),1),e("dd",Q,[e("span",X,y(l.value),1)])]))}},ee={class:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:pt-5"},se=e("dt",{class:"text-sm font-medium text-gray-500"},"Photo",-1),te={class:"mt-1 flex text-sm text-gray-900 sm:mt-0 sm:col-span-2"},oe={class:"flex-grow"},le=["src"],re={__name:"FormPhoto",props:{src:String},setup(l){const t=l;return(c,f)=>(n(),_("div",ee,[se,e("dd",te,[e("span",oe,[e("img",{class:"h-8 w-8 rounded-full",src:t.src,alt:""},null,8,le)])])]))}},ae={class:"mt-6 grid grid-cols-4 gap-6"},ne={class:"col-span-4 sm:col-span-2"},ie={for:"first-name",class:"block text-sm font-medium text-gray-700"},de=e("span",{class:"sr-only"},"Enable notifications",-1),ce={__name:"FormSwitch",props:{isOpen:Boolean,label:String},emits:["toggle"],setup(l,{emit:t}){function c(f){t("toggle",f)}return(f,m)=>(n(),_("div",ae,[e("div",ne,[e("label",ie,y(l.label),1),s(o(H),{as:"div",onClick:m[0]||(m[0]=u=>c(!0)),modelValue:l.isOpen,"onUpdate:modelValue":m[1]||(m[1]=u=>M(isOpen)?isOpen.value=u:null),class:d([l.isOpen?"bg-jvgreen":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:r(()=>[de,e("span",{class:d([l.isOpen?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"])])]))}},me={class:"mt-6 grid grid-cols-4 gap-6"},ue={class:"col-span-4 sm:col-span-2"},pe=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Back up Routine",-1),_e=g("Upload"),ge={__name:"FormButton",props:{href:String},setup(l){return(t,c)=>(n(),_("div",me,[e("div",ue,[pe,s(o(P),{href:t.route(l.href),class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-jvgreen"},{default:r(()=>[_e]),_:1},8,["href"])])]))}},fe={class:"max-w-7xl mx-auto pb-10 lg:py-12 lg:px-8"},he={class:"lg:grid lg:grid-cols-12 lg:gap-x-5"},xe={class:"py-6 px-2 sm:px-6 lg:py-0 lg:px-0 lg:col-span-3"},ye={class:"space-y-1"},be=g(" Profile Information "),ve=g(" Profile Roles "),we={class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9"},$e={class:"mt-6 grid grid-cols-4 gap-6"},ke={class:"divide-y divide-gray-200"},Se={class:"z-index-0 mt-6 grid grid-cols-4 gap-6"},Oe={class:"divide-y divide-gray-200"},je={key:1,class:"pt-2"},Be=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Handle Section & Subjects",-1),Ve={key:2,class:"py-2"},Ne=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Handle Section & Subjects",-1),Ce=g("Demote"),Fe=g("submit"),ss={__name:"AdminUserShow",props:{users:Object,roles:Object,selected_role:String,user_roles:Object},setup(l){const t=l;console.log(t.selected_role);const c=R(!1),f=B(()=>{if(t.users.birthdate!=null)F(t.users.birthdate).format("LL");else return"no birthdate"}),m=B(()=>V().props.value.user.roles[0].name),u=U({id:t.users.id,roles:t.selected_role}),b=[];let k=()=>{u.post(route("add-role"),{onBefore:()=>confirm("Are you sure you wanna assign this user?")})};return D(()=>{t.selected_role&&b.push("This user already exists in roles."),V().props.value.can.school_existed.allowed&&b.push("No currently, the school you need to add school first...")}),(S,p)=>{const O=N("inner-table"),j=N("WithDashBorder");return n(),i(L,{"no-content":"",title:"Manage User",showSideNav:!1},{content:r(()=>[e("main",fe,[e("div",he,[s(o(z),{vertical:""},{default:r(()=>[e("aside",xe,[e("nav",ye,[s(o(T),null,{default:r(()=>[s(o(v),{as:"template"},{default:r(({selected:a})=>[e("button",{class:d([a?"bg-gray-50 text-jvdgreen hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[s(o(G),{class:d([a?"text-jvgreen":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),be],2)]),_:1}),s(o(v),{as:"template"},{default:r(({selected:a})=>[e("button",{class:d([a?"bg-white text-jvdgreen hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[s(o(Z),{class:d([a?"text-jvgreen":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),ve],2)]),_:1}),s(o(v),{as:"template"},{default:r(({selected:a})=>[e("button",{class:d([a?"bg-gray-50 text-jvdgreen hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[s(o(q),{class:d([a?"text-jvgreen":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+y(o(m)),1)],2)]),_:1})]),_:1})])]),e("div",we,[s(o(Y),null,{default:r(()=>[s(o(w),null,{default:r(()=>[s($,{title:"User Information",description:"This information will be displayed publicly so be careful what you share."},{main:r(()=>[e("div",$e,[e("dl",ke,[s(x,{label:"Name",value:l.users.name},null,8,["value"]),s(re,{src:l.users.profile_photo_url},null,8,["src"]),s(x,{label:"Email",value:l.users.email},null,8,["value"]),s(x,{label:"Gender",value:l.users.gender},null,8,["value"]),s(x,{label:"BirthDate",value:o(f)},null,8,["value"]),s(x,{label:"Created",value:o(F)(l.users.created_at).format("ll")},null,8,["value"])])])]),_:1})]),_:1}),s(o(w),null,{default:r(()=>[e("form",{onSubmit:p[1]||(p[1]=A((...a)=>o(k)&&o(k)(...a),["prevent"]))},[s($,{title:"Add Roles",description:"add user roles",haveFooter:!S.$page.props.can.school_existed.allowed},E({main:r(()=>[e("div",Se,[e("dl",Oe,[s(I,{class:"pb-20",label:"add roles",options:t.roles,modelValue:o(u).roles,"onUpdate:modelValue":p[0]||(p[0]=a=>o(u).roles=a)},null,8,["options","modelValue"])])]),t.selected_role?(n(),i(W,{key:0,labels:b})):h("",!0),t.user_roles.hasOwnProperty("teacher")?(n(),_("div",je,[Be,t.user_roles.teacher.length!=0?(n(),i(O,{key:0,items:t.user_roles.teacher},null,8,["items"])):(n(),i(j,{key:1,label:"No currently assigned"}))])):h("",!0),t.user_roles.hasOwnProperty("student")?(n(),_("div",Ve,[Ne,t.user_roles.student!=null?(n(),i(O,{key:0,items:[t.user_roles.student]},null,8,["items"])):(n(),i(j,{key:1,label:"No currently assigned"}))])):h("",!0)]),_:2},[S.$page.props.can.school_existed.allowed?void 0:{name:"footer",fn:r(()=>[t.selected_role?(n(),i(C,{key:0,isSecondary:""},{default:r(()=>[Ce]),_:1})):h("",!0),t.selected_role?h("",!0):(n(),i(C,{key:1},{default:r(()=>[Fe]),_:1}))])}]),1032,["haveFooter"])],32)]),_:1}),s(o(w),null,{default:r(()=>[s($,{title:"Setting as super-administrator/Admin",description:"this all of control all our system, including backup routine,schedule, for maintenance mode"},{main:r(()=>[s(ce,{label:"Maintenance Mode",isOpen:c.value,onToggle:p[2]||(p[2]=a=>c.value=a)},null,8,["isOpen"]),s(ge,{label:"Maintenance Mode",href:"post.store"})]),_:1})]),_:1})]),_:1})])]),_:1})])])]),_:1})}}};export{ss as default};
