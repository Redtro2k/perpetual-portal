import{o as r,c as d,b as t,d as H,u as b,p as I,w as l,C as z,a as n,g as e,n as u,i as g,t as v,m as y,_ as $,f as _,e as w,v as U,x as T,D as h,F as q,X as C,Y as L}from"./app.d6fd6ef0.js";import{_ as j}from"./UserLayout.cf4779a3.js";import{Z as Y,e as x,t as G,a as k,_ as f,Y as P}from"./FormDescription.6a96f0c9.js";import{_ as D}from"./FormInput.4f925074.js";import{_ as V}from"./ValidationErrors.0b35cf52.js";import{_ as R}from"./SimpleCustom.543c427c.js";import{_ as N}from"./FormSlot.50e12b38.js";import{_ as X}from"./ButtonLink.81a6d159.js";import{_ as S}from"./Button.6d30971e.js";import{r as Z}from"./PlusIcon.f09ce124.js";import{r as J}from"./PencilAltIcon.e0c45e02.js";import"./SearchIcon.ef60ed6c.js";import"./popover.11880e8a.js";import"./use-outside-click.4ced2ae8.js";import"./use-resolve-button-type.ddd396ff.js";import"./use-event-listener.daba031f.js";import"./menu.57fea4d8.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.c44d3662.js";import"./form.c56a6aaf.js";function K(A,o){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z","clip-rule":"evenodd"})])}const W={class:"max-w-7xl mx-auto pb-10 lg:py-12 lg:px-8"},ee={class:"lg:grid lg:grid-cols-12 lg:gap-x-5"},te={class:"py-6 px-2 sm:px-6 lg:py-0 lg:px-0 lg:col-span-3"},se={class:"space-y-1"},ae={class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9"},le={class:"mt-6 grid grid-cols-4 gap-4"},ie={class:"mt-4"},oe=n("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Description",-1),ne=["innerHTML"],re=g(" Update "),de={class:"mt-6 grid grid-cols-1 gap-4"},pe=g(" Upload "),me={class:"mt-6 grid grid-cols-4 gap-4"},ue=g(" Create "),ce=["href"],Te={__name:"AdminEditModules",props:{selected:Object,activities:Object},setup(A){const o=A;H();const p=b({name:o.selected.title,grading:o.selected.quarter,description:o.selected.description,module_id:o.selected.id}),B=[{id:1,name:"prelim"},{id:2,name:"midterm"},{id:3,name:"prefinal"},{id:4,name:"final"}],c=b({id:o.selected.id,content:null,name:null}),m=b({module_id:o.selected.id,title:"",dates:null});I(()=>{const s=new Date,i=new Date(new Date().setDate(s.getDate()+7));m.dates=[s.toISOString(),i.toISOString()]});let E=()=>{c.post(route("files.store"),{onFinish:()=>c.reset("content","name"),onSuccess:()=>c.reset("content","name"),preserveState:!0})},F=()=>{m.post(route("qae.store"),{onFinish:()=>m.reset("title"),onSuccess:()=>m.reset("title"),preserveState:!0})},M=()=>{p.put(route("modules.update",o.selected.id),{preserveState:!0})};return(s,i)=>{const O=z("QuillEditor"),Q=z("Datepicker");return r(),d(j,{title:"Modules","no-content":"",showSideNav:!1},{content:l(()=>[n("main",W,[n("div",ee,[t(e(P),null,{default:l(()=>[n("aside",te,[n("nav",se,[t(e(Y),null,{default:l(()=>[t(e(x),{as:"template"},{default:l(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-indigo-600 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(Z),{class:u([a?"text-indigo-500":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+v(s.$page.props.can.manage_student?"Module Description":"Update Modules"),1)],2)]),_:1}),t(e(x),{as:"template"},{default:l(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-indigo-600 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(K),{class:u([a?"text-indigo-500":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+v(s.$page.props.can.manage_student?"Files":"Add Files"),1)],2)]),_:1}),t(e(x),{as:"template"},{default:l(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-indigo-600 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(J),{class:u([a?"text-indigo-500":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+v(s.$page.props.can.manage_student?"Activities":"Set Up Quizzes, Activities, Essay"),1)],2)]),_:1})]),_:1})])]),n("div",ae,[t(e(G),null,{default:l(()=>[t(e(k),null,{default:l(()=>[n("form",{onSubmit:i[3]||(i[3]=y((...a)=>e(M)&&e(M)(...a),["prevent"]))},[t(f,{title:s.$page.props.can.manage_student?"Modules Description":"Update Modules",description:s.$page.props.can.manage_student?"Please read all Information about this topic":"fill up all of validation to proceed the next step",haveFooter:!s.$page.props.can.manage_student},{main:l(()=>[t(V,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):_("",!0),n("div",le,[t(D,{label:"Title",modelValue:e(p).name,"onUpdate:modelValue":i[0]||(i[0]=a=>e(p).name=a),disabled:!!s.$page.props.can.manage_student},null,8,["modelValue","disabled"]),t(N,{label:"Grading"},{main:l(()=>[t(R,{options:B,modelValue:e(p).grading,"onUpdate:modelValue":i[1]||(i[1]=a=>e(p).grading=a),disabled:!!s.$page.props.can.manage_student,class:u([s.$page.props.can.manage_student?"opacity-50":""])},null,8,["modelValue","disabled","class"])]),_:1})]),n("div",ie,[oe,s.$page.props.can.manage_student?(r(),w("span",{key:1,class:"text-sm pl-2",innerHTML:e(p).description},null,8,ne)):(r(),d(O,{key:0,content:e(p).description,"onUpdate:content":i[2]||(i[2]=a=>e(p).description=a),contentType:"html",placeholder:"description about School",toolbar:"essential",theme:"snow"},null,8,["content"]))])]),footer:l(()=>[t(X,{routes:"modules.destroy",id:o.selected.id,label:"REMOVE",method:"DELETE",isShow:""},null,8,["id"]),t(S,{class:u(["ml-4",{"opacity-25":e(p).processing}]),disabled:e(p).processing},{default:l(()=>[re]),_:1},8,["class","disabled"])]),_:1},8,["title","description","haveFooter"])],32)]),_:1}),t(e(k),null,{default:l(()=>[n("form",{onSubmit:i[6]||(i[6]=y((...a)=>e(E)&&e(E)(...a),["prevent"]))},[U(t(f,{title:"Add Files",description:"add content about this modules link pdf",haveFooter:""},{main:l(()=>[t(V,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):_("",!0),n("div",de,[t(D,{label:"Title",modelValue:e(c).name,"onUpdate:modelValue":i[4]||(i[4]=a=>e(c).name=a)},null,8,["modelValue"]),n("input",{type:"file",onInput:i[5]||(i[5]=a=>e(c).content=a.target.files[0])},null,32)])]),footer:l(()=>[t(S,{class:u(["ml-4",{"opacity-25":e(c).processing}]),disabled:e(c).processing},{default:l(()=>[pe]),_:1},8,["class","disabled"])]),_:1},512),[[T,!s.$page.props.can.manage_student]])],32),t(f,{class:"mt-4",title:"All Files",description:"list of all uploaded recarding this topic"},{main:l(()=>[o.selected.files.length!=0?(r(),w(q,{key:0},[s.$page.props.can.manage_student?(r(),d(h,{key:1,items:o.selected.files},null,8,["items"])):(r(),d(h,{key:0,items:o.selected.files,edit_link:"files.destroy",isDeleteData:{current_modules:o.selected.id}},null,8,["items","isDeleteData"]))],64)):(r(),d(C,{key:1,class:"mt-2",label:"No Modules, please Add modules this Subject"}))]),_:1})]),_:1}),t(e(k),null,{default:l(()=>[n("form",{onSubmit:i[9]||(i[9]=y((...a)=>e(F)&&e(F)(...a),["prevent"]))},[U(t(f,{title:"Add Activities",description:"adding Quizzes, and Activity","have-footer":""},{main:l(()=>[t(V,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):_("",!0),s.$page.props.flash.warning?(r(),d(L,{key:1,label:s.$page.props.flash.warning},null,8,["label"])):_("",!0),n("div",me,[t(D,{label:"Title",modelValue:e(m).title,"onUpdate:modelValue":i[7]||(i[7]=a=>e(m).title=a)},null,8,["modelValue"]),t(N,{label:"Start - Due"},{main:l(()=>[t(Q,{modelValue:e(m).dates,"onUpdate:modelValue":i[8]||(i[8]=a=>e(m).dates=a),"is-24":!1,range:""},null,8,["modelValue"])]),_:1})])]),footer:l(()=>[t(S,{class:u(["ml-4",{"opacity-25":e(m).processing}]),disabled:e(m).processing},{default:l(()=>[ue]),_:1},8,["class","disabled"])]),_:1},512),[[T,s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher]])],32),t(f,{class:"mt-4",title:"Quizzes, Activities, Essay",description:"list of all created quizzes, activities, Essay recarding this topic",haveFooter:s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher},{main:l(()=>[o.activities!=0?(r(),w(q,{key:0},[s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher?(r(),d(h,{key:0,items:o.activities,edit_link:"qae.destroy",isDeleteData:{current_modules:o.selected.id},isEditData:"question-answer.show"},null,8,["items","isDeleteData"])):(r(),d(h,{key:1,items:o.activities,link_label:"Answer it",edit_link:"student-taking-activities.show"},null,8,["items"]))],64)):(r(),d(C,{key:1,class:"mt-2",label:"No Activities, please Add Activities on this lesson"}))]),footer:l(()=>[n("a",{href:s.route("view-all-activities",o.selected.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},"Export Excel",8,ce)]),_:1},8,["haveFooter"])]),_:1})]),_:1})])]),_:1})])])]),_:1})}}};export{Te as default};
