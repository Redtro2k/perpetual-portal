import{_ as v}from"./UserLayout.dc46b865.js";import{_ as b}from"./WithDismiss.2919006d.js";import{o,c as l,b as m,e as h,a as e,h as n,g as d,t as a,v as w,x as $,w as u,L as _,j as g,f as c,F as k,i as C,n as L,U as j}from"./app.af4b8a1e.js";import{r as S}from"./ExclamationIcon.ae9126e1.js";import{h as x}from"./moment.9709ab41.js";import{r as B}from"./PlusIcon.021e5bc4.js";import"./popover.e0e0c2e5.js";import"./use-outside-click.4c606b93.js";import"./use-resolve-button-type.56a463cb.js";import"./use-event-listener.83312558.js";import"./menu.915b5583.js";import"./calculate-active-index.804d077d.js";function V(i,t){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[m("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),m("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})])}function A(i,t){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[m("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])}const E={class:"bg-yellow-50 border-1-4 border-yellow-400 p-4"},D={class:"flex"},N={class:"flex-shrink-0"},z={class:"ml-3"},F={class:"text-sm text-yellow-700"},H={__name:"WithAccentBorder",props:{label:String,withLink:{type:Boolean,default:()=>!1},link:{type:String,default:()=>null},content:{type:String,default:()=>null}},setup(i){return(t,p)=>(o(),h("div",E,[e("div",D,[e("div",N,[m(n(S),{class:"h-5 w-5 text-yellow-400","aria-hidden":"true"})]),e("div",z,[e("p",F,[d(a(i.label)+" "+a("")+" ",1),w(m(n(_),{href:i.link,class:"font-medium underline text-yellow-700 hover:text-yellow-600"},{default:u(()=>[d(a(i.content),1)]),_:1},8,["href"]),[[$,i.withLink]])])])])]))}},M={class:"px-6"},T={class:"max-w-3xl mx-auto px-4 sm:px-6 md:flex md:items-center md:justify-between md:space-x-5 lg:max-w-7xl lg:px-8"},I={class:"flex items-center space-x-5"},R={class:"flex-shrink-0"},O={class:"relative"},P=["src"],U=e("span",{class:"absolute inset-0 shadow-inner rounded-full","aria-hidden":"true"},null,-1),W={class:"text-2xl font-bold text-gray-900"},q={class:"text-sm font-medium text-gray-500"},G=["datetime"],J={class:"mt-6 flex flex-col-reverse justify-stretch space-y-4 space-y-reverse sm:flex-row-reverse sm:justify-end sm:space-x-reverse sm:space-y-0 sm:space-x-3 md:mt-0 md:flex-row md:space-x-3"},K={class:"mt-8 max-w-3xl mx-auto grid grid-cols-1 gap-6 sm:px-6 lg:max-w-7xl lg:grid-flow-col-dense lg:grid-cols-3"},Q={class:"space-y-6 lg:col-start-1 lg:col-span-2"},X={"aria-labelledby":"applicant-information-title"},Y={class:"bg-white shadow sm:rounded-lg"},Z=e("div",{class:"px-4 py-5 sm:px-6"},[e("h2",{id:"applicant-information-title",class:"text-lg leading-6 font-medium text-gray-900"}," School Information "),e("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," the full details of our school registered by the administrator ")],-1),ee={class:"border-t border-gray-200 px-4 py-5 sm:px-6"},te={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},se={class:"sm:col-span-2"},oe=e("dt",{class:"text-sm font-medium text-gray-500"},"About",-1),ae={class:"mt-1 text-sm text-gray-900"},ie={class:"sm:col-span-1"},le=e("dt",{class:"text-sm font-medium text-gray-500"},"Address",-1),ne={class:"mt-1 text-sm text-gray-900"},re={class:"sm:col-span-1"},ce=e("dt",{class:"text-sm font-medium text-gray-500"},"Contact Number",-1),de={class:"mt-1 text-sm text-gray-900"},me={class:"sm:col-span-1"},he=e("dt",{class:"text-sm font-medium text-gray-500"},"Region",-1),ue={class:"mt-1 text-sm text-gray-900"},pe={class:"sm:col-span-1"},_e=e("dt",{class:"text-sm font-medium text-gray-500"},"Province",-1),fe={class:"mt-1 text-sm text-gray-900"},ge={key:0,"aria-labelledby":"timeline-title",class:"lg:col-start-3 lg:col-span-1"},xe={class:"bg-white px-4 py-5 shadow sm:rounded-lg sm:px-6"},ye=e("h2",{id:"timeline-title",class:"text-lg font-medium text-gray-900"}," Activity ",-1),ve={class:"mt-6 flow-root"},be={role:"list",class:"-mb-8"},we={class:"relative pb-8"},$e={class:"relative flex space-x-3"},ke={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},Ce={class:"text-sm text-gray-500"},Le={class:"text-right text-sm whitespace-nowrap text-gray-500"},je=["datetime"],Se=e("div",{class:"mt-6 flex flex-col justify-stretch"},[e("button",{type:"button",class:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," View Logs ")],-1),Oe={__name:"AdminSchoolIndex",props:{school:Object,school_image:String,activity:Array},setup(i){const t=i,p=g(()=>x(t.school.created_at).format("LL")),y=g(()=>t.school.description.toString().replace(/(<([^>]+)>)/gi,"").replace(/\&nbsp;/g,"")),f=s=>{if(s=="created")return{icon:B,bgColorClass:"bg-green-500"};if(s=="updated")return{icon:V,bgColorClass:"bg-blue-400"};if(s=="deleted")return{icon:A,bgColorClass:"bg-red-500"}};return(s,Be)=>(o(),l(v,{title:"Schools","no-content":""},{content:u(()=>[e("main",null,[e("div",M,[s.$page.props.flash.success?(o(),l(b,{key:0,label:s.$page.props.flash.success},null,8,["label"])):c("",!0),s.$page.props.flash.warning?(o(),l(H,{key:1,label:s.$page.props.flash.warning},null,8,["label"])):c("",!0)]),e("div",T,[e("div",I,[e("div",R,[e("div",O,[e("img",{class:"h-16 w-16 rounded-full",src:t.school_image,alt:""},null,8,P),U])]),e("div",null,[e("h1",W,a(t.school.name),1),e("p",q,[d(" Establish on "),e("time",{class:"text-gray-900 font-semibold",datetime:n(p)},a(n(p)),9,G)])])]),e("div",J,[s.$page.props.can.manage_super_admin?(o(),l(n(_),{key:0,href:s.route("school.edit",t.school.id),class:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-500"},{default:u(()=>[d("Edit")]),_:1},8,["href"])):c("",!0),s.$page.props.can.manage_super_admin?(o(),l(n(_),{key:1,href:s.route("school.destroy",t.school.id),class:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-red-500",method:"DELETE",as:"button",type:"button"},{default:u(()=>[d("Remove School")]),_:1},8,["href"])):c("",!0)])]),e("div",K,[e("div",Q,[e("section",X,[e("div",Y,[Z,e("div",ee,[e("dl",te,[e("div",se,[oe,e("dd",ae,a(n(y)),1)]),e("div",ie,[le,e("dd",ne,a(t.school.address),1)]),e("div",re,[ce,e("dd",de,a(t.school.contact),1)]),e("div",me,[he,e("dd",ue,a(t.school.region),1)]),e("div",pe,[_e,e("dd",fe,a(t.school.province),1)])])])])])]),s.$page.props.can.manage_super_admin?(o(),h("section",ge,[e("div",xe,[ye,e("div",ve,[e("ul",be,[(o(!0),h(k,null,C(t.activity,r=>(o(),h("li",{key:r},[e("div",we,[e("div",$e,[e("div",null,[e("span",{class:L([f(r.event).bgColorClass,"h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white"])},[(o(),l(j(f(r.event).icon),{class:"w-5 h-5 text-white","aria-hidden":"true"}))],2)]),e("div",ke,[e("div",null,[e("p",Ce,a(r.description)+" ",1)]),e("div",Le,[e("time",{datetime:r.updated_at},a(n(x)(r.updated_at).format("ll")),9,je)])])])])]))),128))])]),Se])])):c("",!0)])])]),_:1}))}};export{Oe as default};
