import{o as n,c as _,b as s,e as h,a as e,F as y,i as w,w as l,g as k,t as u,f as p,h as a,L as o,$ as b,T as L,n as m,v as x,x as g}from"./app.69e48e67.js";import{r as $}from"./DotsVerticalIcon.c02b6d04.js";import{r as V}from"./TrashIcon.e21e51e2.js";import{I as z,g as C,S as v,v as T}from"./menu.0e8d2c7b.js";import"./use-outside-click.39d564af.js";import"./calculate-active-index.804d077d.js";import"./use-resolve-button-type.41d4d527.js";function B(c,i){return n(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{"fill-rule":"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z","clip-rule":"evenodd"})])}function M(c,i){return n(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})])}function E(c,i){return n(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})])}function H(c,i){return n(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[s("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})])}const S={class:"mt-4"},D=e("h1",{class:"sr-only"},"Recent posts",-1),A={role:"list",class:"space-y-4"},N=["aria-labelledby"],O={class:"flex space-x-3"},j={class:"flex-shrink-0"},q=["src"],F={class:"min-w-0 flex-1"},I={class:"text-sm font-medium text-gray-900"},P={key:0,class:"font-bold"},R={class:"text-sm text-gray-500"},Y=["datetime"],G={class:"flex-shrink-0 self-center flex"},J=e("span",{class:"sr-only"},"Open options",-1),K={class:"py-1"},Q=e("span",null,"Add to Achieve",-1),U=e("span",null,"Delete",-1),W=["id"],X=["innerHTML"],Z=["src"],ee={class:"mt-6 flex justify-between space-x-8"},te={class:"flex space-x-6"},se={class:"inline-flex items-center text-sm"},ae={key:0,class:"font-medium text-gray-900"},re=e("span",{class:"sr-only"},"likes",-1),le={class:"inline-flex items-center text-sm"},ie={class:"font-medium text-gray-900"},ne=e("span",{class:"sr-only"},"replies",-1),oe={class:"flex text-sm"},ce={class:"inline-flex items-center text-sm"},de={type:"button",class:"inline-flex space-x-2 text-gray-400 hover:text-gray-500"},he=e("span",{class:"font-medium text-gray-900"},"Share",-1),ve={__name:"ThePosts",props:{posts:Object},setup(c){const i=(r,f)=>{let t=r.map(d=>d.by).indexOf(f);return t!=-1?r[t]:!1};return(r,f)=>(n(),h("div",S,[D,e("ul",A,[(n(!0),h(y,null,w(c.posts.data,t=>(n(),h("li",{key:t.post_id,class:"bg-white px-4 py-6 shadow sm:p-6 sm:rounded-lg"},[e("article",{"aria-labelledby":"question-title-"+t.id},[e("div",null,[e("div",O,[e("div",j,[e("img",{class:"h-10 w-10 rounded-full",src:t.author_image,alt:""},null,8,q)]),e("div",F,[e("p",I,[s(a(o),{href:t.author_name,class:"hover:underline"},{default:l(()=>[k(u(t.author_name)+" ",1),t.author_name===r.$page.props.user.name?(n(),h("span",P,"(You)")):p("",!0)]),_:2},1032,["href"])]),e("p",R,[s(a(o),{href:t.post_created_at,class:"hover:underline"},{default:l(()=>[e("time",{datetime:t.post_created_at},u(a(b)(t.post_created_at).format("LLLL")),9,Y)]),_:2},1032,["href"])])]),e("div",G,[s(a(T),{as:"div",class:"relative inline-block text-left"},{default:l(()=>[e("div",null,[s(a(z),{class:"-m-2 p-2 rounded-full flex items-center text-gray-400 hover:text-gray-600"},{default:l(()=>[J,s(a($),{class:"h-5 w-5","aria-hidden":"true"})]),_:1})]),s(L,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:l(()=>[s(a(C),{class:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:l(()=>[e("div",K,[s(a(v),null,{default:l(({active:d})=>[s(a(o),{href:"#",class:m([d?"bg-gray-100 text-gray-900":"text-gray-700","flex px-4 py-2 text-sm"])},{default:l(()=>[s(a(E),{class:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),Q]),_:2},1032,["class"])]),_:1}),x(s(a(v),null,{default:l(({active:d})=>[s(a(o),{method:"DELETE",as:"Link",href:r.route("post.destroy",t.post_id),class:m([d?"bg-gray-100 text-gray-900":"text-gray-700","flex px-4 py-2 text-sm"]),"preserve-scroll":""},{default:l(()=>[s(a(V),{class:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),U]),_:2},1032,["href","class"])]),_:2},1536),[[g,t.post_from==r.$page.props.user.id]])])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),e("h2",{id:"question-title-"+t.id,class:"mt-4 text-base font-medium text-gray-900"},u(t.title),9,W)]),e("div",{class:"mt-2 text-sm text-gray-700 space-y-4",innerHTML:t.description},null,8,X),x(e("img",{class:"w-full",src:t.post_photo},null,8,Z),[[g,t.post_photo]]),e("div",ee,[e("div",te,[e("span",se,[s(a(o),{as:"button",href:i(t.like,r.$page.props.user.id)?r.route("like.destroy",i(t.like,r.$page.props.user.id).like_id):r.route("like.store"),class:m(["inline-flex space-x-2",i(t.like,r.$page.props.user.id)?"text-jvgreen":"text-gray-400 hover:text-gray-500"]),method:i(t.like,r.$page.props.user.id)?"DELETE":"POST",data:i(t.like,r.$page.props.user.id)?{id:null}:{id:t.post_id},"preserve-scroll":""},{default:l(()=>[s(a(H),{class:"h-5 w-5","aria-hidden":"true"}),t.like.length>0?(n(),h("span",ae,u(t.like.length),1)):p("",!0),re]),_:2},1032,["href","method","class","data"])]),e("span",le,[s(a(o),{href:r.route("comment.show",t.token),class:"inline-flex space-x-2 text-gray-400 hover:text-gray-500"},{default:l(()=>[s(a(B),{class:"h-5 w-5","aria-hidden":"true"}),e("span",ie,u(t.comments),1),ne]),_:2},1032,["href"])])]),e("div",oe,[e("span",ce,[e("button",de,[s(a(M),{class:"h-5 w-5","aria-hidden":"true"}),he])])])])],8,N)]))),128))])]))}};export{ve as default};
