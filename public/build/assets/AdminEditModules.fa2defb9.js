import{o as r,c as d,b as t,d as L,u as v,p as I,w as o,a as n,h as e,n as u,g,t as b,m as y,_ as $,f,e as w,v as k,x,C as h,F as j,X as q,Y as O,D}from"./app.c1af1f95.js";import{_ as R}from"./UserLayout.7717c02f.js";import{s as W,d as V,f as G,c as z,_,o as P}from"./FormDescription.91bd2b7e.js";import{_ as A}from"./FormInput.415af08e.js";import{_ as S}from"./ValidationErrors.84f8ef8f.js";import{_ as X}from"./SimpleCustom.5d888c31.js";import{_ as N}from"./FormSlot.cbbe5171.js";import{_ as Y}from"./ButtonLink.0733407f.js";import{_ as E}from"./Button.a8ebcde9.js";import{_ as J}from"./WithLeftLabelAndDescription.6deea2ca.js";import{r as K}from"./PlusIcon.a5d3539e.js";import{r as Z}from"./PencilAltIcon.20309609.js";import"./SearchIcon.63fea564.js";import"./popover.ca883c0d.js";import"./use-outside-click.05e09a47.js";import"./use-resolve-button-type.525f8011.js";import"./use-event-listener.e89fd11f.js";import"./menu.80302a37.js";import"./calculate-active-index.804d077d.js";import"./HomeIcon.51fa6b7b.js";import"./micro-task.fe338338.js";import"./use-controllable.24eb19a9.js";import"./switch.64d8fcea.js";import"./label.6703e288.js";import"./description.363cd376.js";function ee(F,i){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z","clip-rule":"evenodd"})])}const te={class:"max-w-7xl mx-auto pb-10 lg:py-12 lg:px-8"},se={class:"lg:grid lg:grid-cols-12 lg:gap-x-5"},ae={class:"py-6 px-2 sm:px-6 lg:py-0 lg:px-0 lg:col-span-3"},le={class:"space-y-1"},oe={class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9"},ie={class:"mt-6 grid grid-cols-4 gap-4"},ne={class:"mt-4"},re=n("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Description",-1),de=["innerHTML"],pe={class:"mt-6 grid grid-cols-1 gap-4"},me={class:"mt-6 grid grid-cols-4 gap-4"},ue=["href"],Te={__name:"AdminEditModules",props:{selected:Object,activities:Object},setup(F){const i=F;L();const m=v({name:i.selected.title,grading:i.selected.quarter,description:i.selected.description,module_id:i.selected.id}),T=[{id:1,name:"prelim"},{id:2,name:"midterm"},{id:3,name:"prefinal"},{id:4,name:"final"}],c=v({id:i.selected.id,content:null,name:null}),p=v({module_id:i.selected.id,title:"",dates:null,isCentrilized:!0});I(()=>{const s=new Date,l=new Date(new Date().setDate(s.getDate()+7));p.dates=[s,l]});let M=()=>{c.post(route("files.store"),{onFinish:()=>c.reset("content","name"),onSuccess:()=>c.reset("content","name"),preserveState:!0})},U=()=>{p.post(route("qae.store"),{onFinish:()=>p.reset("title"),onSuccess:()=>p.reset("title"),preserveState:!0})},C=()=>{m.put(route("modules.update",i.selected.id),{preserveState:!0})};return(s,l)=>{const B=D("QuillEditor"),Q=D("Datepicker"),H=D("WithRight");return r(),d(R,{title:"Modules","no-content":"",showSideNav:!1},{content:o(()=>[n("main",te,[n("div",se,[t(e(P),null,{default:o(()=>[n("aside",ae,[n("nav",le,[t(e(W),null,{default:o(()=>[t(e(V),{as:"template"},{default:o(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-jvgreen-300 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(K),{class:u([a?"text-jvgreen-100":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+b(s.$page.props.can.manage_student?"Module Description":"Update Modules"),1)],2)]),_:1}),t(e(V),{as:"template"},{default:o(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-jvgreen-300 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(ee),{class:u([a?"text-jvgreen-100":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+b(s.$page.props.can.manage_student?"Files":"Add Files"),1)],2)]),_:1}),t(e(V),{as:"template"},{default:o(({selected:a})=>[n("button",{class:u([a?"bg-gray-50 text-jvgreen-300 hover:bg-white":"text-gray-900 hover:text-gray-900 hover:bg-gray-50","group rounded-md px-3 py-2 flex items-center text-sm font-medium"])},[t(e(Z),{class:u([a?"text-jvgreen-100":"text-gray-400 group-hover:text-gray-500","flex-shrink-0 -ml-1 mr-3 h-6 w-6"])},null,8,["class"]),g(" "+b(s.$page.props.can.manage_student?"Activities":"Set Up Quizzes, Activities, Essay"),1)],2)]),_:1})]),_:1})])]),n("div",oe,[t(e(G),null,{default:o(()=>[t(e(z),null,{default:o(()=>[n("form",{onSubmit:l[3]||(l[3]=y((...a)=>e(C)&&e(C)(...a),["prevent"]))},[t(_,{title:s.$page.props.can.manage_student?"Modules Description":"Update Modules",description:s.$page.props.can.manage_student?"Please read all Information about this topic":"fill up all of validation to proceed the next step",haveFooter:!s.$page.props.can.manage_student},{main:o(()=>[t(S,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):f("",!0),n("div",ie,[t(A,{label:"Title",modelValue:e(m).name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(m).name=a),disabled:!!s.$page.props.can.manage_student},null,8,["modelValue","disabled"]),t(N,{label:"Grading"},{main:o(()=>[t(X,{options:T,modelValue:e(m).grading,"onUpdate:modelValue":l[1]||(l[1]=a=>e(m).grading=a),disabled:!!s.$page.props.can.manage_student,class:u([s.$page.props.can.manage_student?"opacity-50":""])},null,8,["modelValue","disabled","class"])]),_:1})]),n("div",ne,[re,s.$page.props.can.manage_student?(r(),w("span",{key:1,class:"text-sm pl-2",innerHTML:e(m).description},null,8,de)):(r(),d(B,{key:0,content:e(m).description,"onUpdate:content":l[2]||(l[2]=a=>e(m).description=a),contentType:"html",placeholder:"description about School",toolbar:"essential",theme:"snow"},null,8,["content"]))])]),footer:o(()=>[t(Y,{routes:"modules.destroy",id:i.selected.id,label:"REMOVE",method:"DELETE",isShow:""},null,8,["id"]),t(E,{class:u(["ml-4",{"opacity-25":e(m).processing}]),disabled:e(m).processing},{default:o(()=>[g(" Update ")]),_:1},8,["class","disabled"])]),_:1},8,["title","description","haveFooter"])],32)]),_:1}),t(e(z),null,{default:o(()=>[n("form",{onSubmit:l[6]||(l[6]=y((...a)=>e(M)&&e(M)(...a),["prevent"]))},[k(t(_,{title:"Add Files",description:"add content about this modules link pdf",haveFooter:""},{main:o(()=>[t(S,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):f("",!0),n("div",pe,[t(A,{label:"Title",modelValue:e(c).name,"onUpdate:modelValue":l[4]||(l[4]=a=>e(c).name=a)},null,8,["modelValue"]),n("input",{type:"file",onInput:l[5]||(l[5]=a=>e(c).content=a.target.files[0])},null,32)])]),footer:o(()=>[t(E,{class:u(["ml-4",{"opacity-25":e(c).processing}]),disabled:e(c).processing},{default:o(()=>[g(" Upload ")]),_:1},8,["class","disabled"])]),_:1},512),[[x,!s.$page.props.can.manage_student]])],32),t(_,{class:"mt-4",title:"All Files",description:"list of all uploaded recarding this topic"},{main:o(()=>[i.selected.files.length!=0?(r(),w(j,{key:0},[s.$page.props.can.manage_student?(r(),d(h,{key:1,items:i.selected.files},null,8,["items"])):(r(),d(h,{key:0,items:i.selected.files,edit_link:"files.destroy",isDeleteData:{current_modules:i.selected.id}},null,8,["items","isDeleteData"]))],64)):(r(),d(q,{key:1,class:"mt-2",label:"No Modules, please Add modules this Subject"}))]),_:1})]),_:1}),t(e(z),null,{default:o(()=>[n("form",{onSubmit:l[10]||(l[10]=y((...a)=>e(U)&&e(U)(...a),["prevent"]))},[k(t(_,{title:"Add Activities",description:"adding Quizzes, and Activity","have-footer":""},{main:o(()=>[t(S,{class:"mb-4 pt-8"}),s.$page.props.flash.success?(r(),d($,{key:0,label:s.$page.props.flash.success},null,8,["label"])):f("",!0),s.$page.props.flash.warning?(r(),d(O,{key:1,label:s.$page.props.flash.warning},null,8,["label"])):f("",!0),n("div",me,[t(A,{label:"Title",modelValue:e(p).title,"onUpdate:modelValue":l[7]||(l[7]=a=>e(p).title=a)},null,8,["modelValue"]),t(N,{label:"Start - Due"},{main:o(()=>[t(Q,{modelValue:e(p).dates,"onUpdate:modelValue":l[8]||(l[8]=a=>e(p).dates=a),"is-24":!1,range:"",utc:""},null,8,["modelValue"])]),_:1})]),k(t(J,{class:"pt-4",label:"Not Centralized",body:"If you turn on it will post only to your handle sections, but for now it set default on not centralized",modelValue:e(p).isCentrilized,"onUpdate:modelValue":l[9]||(l[9]=a=>e(p).isCentrilized=a)},null,8,["modelValue"]),[[x,s.$page.props.can.manage_teacher]])]),footer:o(()=>[t(E,{class:u(["ml-4",{"opacity-25":e(p).processing}]),disabled:e(p).processing},{default:o(()=>[g(" Create ")]),_:1},8,["class","disabled"])]),_:1},512),[[x,s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher]])],32),t(_,{class:"mt-4",title:"Quizzes, Activities, Essay",description:"list of all created quizzes, activities, Essay recarding this topic",haveFooter:s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher},{main:o(()=>[s.$page.props.can.admin_or_superadmin?f("",!0):(r(),d(H,{key:0,class:"my-2",label:"all of quizzes created by admin are not view to our student, we need to repost it, just click edit and go option, then add schedule. "})),i.activities!=0?(r(),w(j,{key:1},[s.$page.props.can.admin_or_superadmin||s.$page.props.can.manage_teacher?(r(),d(h,{key:0,items:i.activities,edit_link:"qae.destroy",isDeleteData:{current_modules:i.selected.id},isEditData:"question-answer.show"},null,8,["items","isDeleteData"])):(r(),d(h,{key:1,items:i.activities,link_label:"Answer it",edit_link:"student-taking-activities.show"},null,8,["items"]))],64)):(r(),d(q,{key:2,class:"mt-2",label:"No Activities, please Add Activities on this lesson"}))]),footer:o(()=>[n("a",{href:s.route("view-all-activities",i.selected.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},"Export Excel",8,ue)]),_:1},8,["haveFooter"])]),_:1})]),_:1})])]),_:1})])])]),_:1})}}};export{Te as default};
